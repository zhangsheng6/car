/**
  ******************************************************************************
  * COPYRIGHT NOTICE
  * Copyright (c) 2018,华北科技学院
  * All rights reserved.
  *
  * 文件名称：    oled.c
  * 文件标识：
  * 摘    要：    OLED显示
  *
  * 当前版本：     1.0
  * 负    责：     韩志伟
  * 时    间：     2018年1月4日 10:04:05
  ******************************************************************************
  */

#include "oled.h"
#include "stdio.h"
#include "stdarg.h"

SPI_Type* OLED_SPI[2] = SPI_BASES; //定义两个指针数组保存 SPIx 的地址
unsigned char OLED_GRAM[128][8] = {0};

#define Max_Column	128
#define Max_Row		64

//菜单数字 高8宽7
const uint8 menuNum[][7] =
{
    {0xC1,0xC5,0xC3,0xFF,0xC1,0xC1,0xC1}, //1
    {0x81,0xC5,0xE3,0xD3,0xD3,0xCF,0xC1}, //2
    {0xC3,0xDB,0xDB,0xDB,0xDB,0xFF,0xFF}, //3
    {0xB1,0xA9,0xA5,0xA3,0xFF,0xA1,0xA1}, //4
    {0xFF,0xFD,0xB9,0x91}//小三角
};

//logo 图标
//uint8 logo[][8] =
//{{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x0C,0x01,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x27,0x01,0x00},
//{0x00,0x00,0x00,0x00,0xF0,0x21,0x01,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x21,0x01,0x00},
//{0x00,0x00,0x00,0x00,0x00,0xE1,0xFF,0x07},
//{0x00,0x00,0x00,0x00,0x00,0x21,0x01,0x06},
//{0x00,0x00,0x00,0x00,0x00,0x21,0x01,0x03},
//{0x00,0x00,0x00,0x00,0x00,0x21,0x81,0x01},
//{0x00,0x00,0x04,0x00,0x00,0x01,0xC1,0x00},
//{0x00,0x02,0x04,0x00,0x00,0x00,0x40,0x00},
//{0x00,0x03,0x04,0x00,0x80,0x00,0x00,0x01},
//{0x00,0x01,0x04,0x00,0x80,0x00,0x08,0x01},
//{0x80,0x01,0x04,0x00,0x80,0x00,0x88,0x00},
//{0xC0,0x00,0x04,0x00,0x80,0xFC,0xC9,0x00},
//{0xE0,0xFF,0x07,0x00,0x80,0x27,0x1F,0x00},
//{0x00,0x00,0x04,0x00,0xE0,0x25,0x09,0x00},
//{0x00,0x00,0x04,0x00,0xB0,0x24,0x09,0x00},
//{0x00,0x00,0x04,0x00,0x90,0x04,0x08,0x00},
//{0x00,0x00,0x04,0x00,0x80,0x04,0x28,0x00},
//{0x00,0x00,0x04,0x00,0x80,0xFC,0x6F,0x00},
//{0x00,0x00,0x00,0x00,0x80,0x00,0xC8,0x01},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x1E,0x3C,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0xFE,0x3F,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00},
//{0x00,0x08,0x00,0xFE,0x3F,0x00,0x08,0x00},
//{0x00,0x04,0x00,0x00,0x00,0x00,0x11,0x00},
//{0x00,0x22,0x00,0xF0,0x07,0x00,0x02,0x00},
//{0x00,0x11,0x00,0x0E,0x38,0x40,0x04,0x00},
//{0x80,0x88,0xC0,0x01,0xC0,0x81,0x00,0x00},
//{0x40,0x44,0x38,0x00,0x00,0x07,0x01,0x01},
//{0x20,0x22,0x06,0x00,0x00,0x18,0x00,0x02},
//{0x10,0x91,0x01,0x00,0x00,0x60,0x40,0x04},
//{0x88,0x48,0x00,0x00,0x00,0x80,0x81,0x00},
//{0x40,0x24,0x00,0x00,0x00,0x00,0x12,0x01},
//{0x20,0x12,0x00,0x00,0x00,0x00,0x24,0x00},
//{0x00,0x09,0x00,0x00,0x00,0x00,0x48,0x00},
//{0x80,0x08,0x00,0x00,0x00,0x00,0x10,0x00},
//{0x00,0x04,0x1C,0x00,0x00,0x00,0x20,0x00},
//{0x00,0x04,0x36,0x00,0x00,0x00,0x20,0x00},
//{0x00,0x82,0xC1,0x00,0x00,0x00,0x40,0x00},
//{0x00,0x42,0x00,0x01,0x00,0x00,0x40,0x00},
//{0x00,0x22,0x00,0x02,0x00,0x18,0x40,0x00},
//{0x00,0x11,0x00,0x04,0xF0,0x0F,0x87,0x00},
//{0x00,0x09,0x00,0x08,0x00,0x81,0x83,0x00},
//{0x00,0x05,0x20,0x10,0x80,0xC8,0x81,0x00},
//{0x95,0x04,0x36,0x10,0x80,0xE8,0x00,0xA9},
//{0x95,0x02,0x93,0x20,0xC0,0xF8,0x00,0xA9},
//{0x95,0x82,0xDF,0x20,0xC0,0xBF,0x01,0xA9},
//{0x55,0xC1,0x7C,0x40,0xC0,0x18,0x03,0xAA},
//{0xC4,0x01,0xEC,0x43,0x00,0x0C,0x06,0x8A},
//{0xC4,0x00,0xA4,0x87,0x00,0x06,0x04,0x8A},
//{0xC4,0x00,0x21,0x80,0x00,0x06,0x06,0x8A},
//{0x44,0x10,0x01,0x80,0x00,0x0C,0x03,0x8B},
//{0x44,0x30,0x83,0x00,0x01,0x98,0x81,0x8B},
//{0xD5,0xE0,0xFB,0x00,0x01,0xF0,0x80,0xAA},
//{0x95,0x00,0x0F,0x00,0x02,0x60,0x40,0xA9},
//{0x95,0x61,0x02,0x00,0x02,0x00,0x40,0xA9},
//{0x15,0x31,0x02,0x00,0x04,0x00,0x20,0xA9},
//{0x00,0x11,0x04,0x00,0x04,0x00,0xA0,0x00},
//{0x00,0x02,0x04,0x00,0x08,0x00,0x90,0x00},
//{0x00,0x02,0x04,0x00,0x08,0x00,0x90,0x00},
//{0x00,0x02,0x04,0x00,0x10,0x00,0x48,0x00},
//{0x00,0x04,0x04,0x00,0x20,0x00,0x44,0x00},
//{0x00,0x04,0x00,0x00,0x40,0x00,0x42,0x00},
//{0x00,0x08,0x00,0x00,0x80,0x81,0x21,0x00},
//{0x00,0x08,0x00,0x00,0x00,0x66,0x20,0x00},
//{0x00,0x12,0x00,0x00,0x00,0x18,0x90,0x00},
//{0x00,0x24,0x00,0x00,0x00,0x00,0x48,0x00},
//{0x80,0x48,0x00,0x00,0x00,0x00,0x24,0x02},
//{0x00,0x81,0x00,0x00,0x00,0x00,0x02,0x01},
//{0x20,0x02,0x01,0x00,0x00,0x80,0x81,0x08},
//{0x40,0x00,0x02,0x00,0x00,0x60,0x40,0x04},
//{0x80,0x80,0x04,0x00,0x00,0x18,0x22,0x02},
//{0x00,0x01,0x39,0x00,0x00,0x07,0x11,0x01},
//{0x00,0x22,0xC2,0x01,0xC0,0x81,0x88,0x00},
//{0x00,0x44,0x00,0x0E,0x38,0x00,0x44,0x00},
//{0x00,0x88,0x00,0xF0,0x07,0x00,0x22,0x00},
//{0x00,0x10,0x00,0x00,0x00,0x00,0x10,0x00},
//{0x00,0x20,0x00,0xFE,0x3F,0x00,0x08,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x1E,0x3C,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x1E,0x3C,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x98,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x97,0x00},
//{0x00,0x00,0x00,0x00,0x00,0xF0,0xD1,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x4F,0x70,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x30,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x40,0x1E,0x00},
//{0x00,0x00,0x00,0x00,0x00,0xF8,0x11,0x00},
//{0xC0,0x07,0x1E,0x00,0x00,0x4F,0x10,0x00},
//{0x60,0x0C,0x3F,0x00,0x00,0x40,0x10,0x00},
//{0x20,0x98,0x21,0x00,0x00,0x40,0x10,0x00},
//{0x10,0xF0,0x60,0x00,0x00,0x00,0xD0,0x00},
//{0x10,0x60,0x60,0x00,0x00,0x40,0x41,0x00},
//{0x10,0x30,0x60,0x00,0x00,0x60,0x61,0x00},
//{0x10,0x70,0x60,0x00,0x00,0x20,0x31,0x00},
//{0x10,0xC8,0x60,0x00,0x00,0x30,0x19,0x00},
//{0x30,0x8C,0x60,0x00,0x00,0xF8,0x07,0x00},
//{0xE0,0x86,0x30,0x00,0x00,0x0C,0x07,0x00},
//{0x80,0x03,0x1B,0x00,0x00,0x06,0x0D,0x00},
//{0x00,0x00,0x0E,0x00,0x00,0x82,0x18,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0x30,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0x20,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
//{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}
//};


//======================================
const uint8 F6x8[][6] =
{
    { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },   // sp
    { 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00 },   // !
    { 0x00, 0x00, 0x07, 0x00, 0x07, 0x00 },   // "
    { 0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #
    { 0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $
    { 0x00, 0x62, 0x64, 0x08, 0x13, 0x23 },   // %
    { 0x00, 0x36, 0x49, 0x55, 0x22, 0x50 },   // &
    { 0x00, 0x00, 0x05, 0x03, 0x00, 0x00 },   // '
    { 0x00, 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (
    { 0x00, 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )
    { 0x00, 0x14, 0x08, 0x3E, 0x08, 0x14 },   // *
    { 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08 },   // +
    { 0x00, 0x00, 0x00, 0xA0, 0x60, 0x00 },   // ,
    { 0x00, 0x08, 0x08, 0x08, 0x08, 0x08 },   // -
    { 0x00, 0x00, 0x60, 0x60, 0x00, 0x00 },   // .
    { 0x00, 0x20, 0x10, 0x08, 0x04, 0x02 },   // /
    { 0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E },   // 0
    { 0x00, 0x00, 0x42, 0x7F, 0x40, 0x00 },   // 1
    { 0x00, 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2
    { 0x00, 0x21, 0x41, 0x45, 0x4B, 0x31 },   // 3
    { 0x00, 0x18, 0x14, 0x12, 0x7F, 0x10 },   // 4
    { 0x00, 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5
    { 0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30 },   // 6
    { 0x00, 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7
    { 0x00, 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8
    { 0x00, 0x06, 0x49, 0x49, 0x29, 0x1E },   // 9
    { 0x00, 0x00, 0x36, 0x36, 0x00, 0x00 },   // :
    { 0x00, 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;
    { 0x00, 0x08, 0x14, 0x22, 0x41, 0x00 },   // <
    { 0x00, 0x14, 0x14, 0x14, 0x14, 0x14 },   // =
    { 0x00, 0x00, 0x41, 0x22, 0x14, 0x08 },   // >
    { 0x00, 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?
    { 0x00, 0x32, 0x49, 0x59, 0x51, 0x3E },   // @
    { 0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C },   // A
    { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x36 },   // B
    { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x22 },   // C
    { 0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C },   // D
    { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x41 },   // E
    { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x01 },   // F
    { 0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A },   // G
    { 0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F },   // H
    { 0x00, 0x00, 0x41, 0x7F, 0x41, 0x00 },   // I
    { 0x00, 0x20, 0x40, 0x41, 0x3F, 0x01 },   // J
    { 0x00, 0x7F, 0x08, 0x14, 0x22, 0x41 },   // K
    { 0x00, 0x7F, 0x40, 0x40, 0x40, 0x40 },   // L
    { 0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F },   // M
    { 0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F },   // N
    { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E },   // O
    { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x06 },   // P
    { 0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E },   // Q
    { 0x00, 0x7F, 0x09, 0x19, 0x29, 0x46 },   // R
    { 0x00, 0x46, 0x49, 0x49, 0x49, 0x31 },   // S
    { 0x00, 0x01, 0x01, 0x7F, 0x01, 0x01 },   // T
    { 0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F },   // U
    { 0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F },   // V
    { 0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F },   // W
    { 0x00, 0x63, 0x14, 0x08, 0x14, 0x63 },   // X
    { 0x00, 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y
    { 0x00, 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z
    { 0x00, 0x00, 0x7F, 0x41, 0x41, 0x00 },   // [
    { 0x00, 0x55, 0x2A, 0x55, 0x2A, 0x55 },   // /*\*/
    { 0x00, 0x00, 0x41, 0x41, 0x7F, 0x00 },   // ]
    { 0x00, 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^
    { 0x00, 0x40, 0x40, 0x40, 0x40, 0x40 },   // _
    { 0x00, 0x00, 0x01, 0x02, 0x04, 0x00 },   // '
    { 0x00, 0x20, 0x54, 0x54, 0x54, 0x78 },   // a
    { 0x00, 0x7F, 0x48, 0x44, 0x44, 0x38 },   // b
    { 0x00, 0x38, 0x44, 0x44, 0x44, 0x20 },   // c
    { 0x00, 0x38, 0x44, 0x44, 0x48, 0x7F },   // d
    { 0x00, 0x38, 0x54, 0x54, 0x54, 0x18 },   // e
    { 0x00, 0x08, 0x7E, 0x09, 0x01, 0x02 },   // f
    { 0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C },   // g
    { 0x00, 0x7F, 0x08, 0x04, 0x04, 0x78 },   // h
    { 0x00, 0x00, 0x44, 0x7D, 0x40, 0x00 },   // i
    { 0x00, 0x40, 0x80, 0x84, 0x7D, 0x00 },   // j
    { 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00 },   // k
    { 0x00, 0x00, 0x41, 0x7F, 0x40, 0x00 },   // l
    { 0x00, 0x7C, 0x04, 0x18, 0x04, 0x78 },   // m
    { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x78 },   // n
    { 0x00, 0x38, 0x44, 0x44, 0x44, 0x38 },   // o
    { 0x00, 0xFC, 0x24, 0x24, 0x24, 0x18 },   // p
    { 0x00, 0x18, 0x24, 0x24, 0x18, 0xFC },   // q
    { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x08 },   // r
    { 0x00, 0x48, 0x54, 0x54, 0x54, 0x20 },   // s
    { 0x00, 0x04, 0x3F, 0x44, 0x40, 0x20 },   // t
    { 0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C },   // u
    { 0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C },   // v
    { 0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C },   // w
    { 0x00, 0x44, 0x28, 0x10, 0x28, 0x44 },   // x
    { 0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C },   // y
    { 0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 },   // z
    { 0x14, 0x14, 0x14, 0x14, 0x14, 0x14 }    // horiz lines
};

const uint8 F8X16[]=
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 0
  0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,//!1
  0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//"2
  0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,//#3
  0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,//$4
  0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,//%5
  0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,//&6
  0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//'7
  0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,//(8
  0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,//)9
  0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,//*10
  0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,//+11
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,//,12
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,//-13
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,//.14
  0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,///15
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,//016
  0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//117
  0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,//218
  0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,//319
  0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,//420
  0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,//521
  0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,//622
  0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,//723
  0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,//824
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,//925
  0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,//:26
  0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,//;27
  0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,//<28
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,//=29
  0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,//>30
  0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,//?31
  0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,//@32
  0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,//A33
  0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,//B34
  0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,//C35
  0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,//D36
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,//E37
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,//F38
  0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,//G39
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,//H40
  0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//I41
  0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,//J42
  0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,//K43
  0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,//L44
  0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,//M45
  0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,//N46
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,//O47
  0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,//P48
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,//Q49
  0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,//R50
  0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,//S51
  0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//T52
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//U53
  0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,//V54
  0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,//W55
  0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,//X56
  0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//Y57
  0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,//Z58
  0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,//[59
  0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,//\60
  0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,//]61
  0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//^62
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,//_63
  0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//`64
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,//a65
  0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,//b66
  0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,//c67
  0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,//d68
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,//e69
  0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//f70
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,//g71
  0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//h72
  0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//i73
  0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,//j74
  0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,//k75
  0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//l76
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,//m77
  0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//n78
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//o79
  0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,//p80
  0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,//q81
  0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,//r82
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,//s83
  0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,//t84
  0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,//u85
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,//v86
  0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,//w87
  0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,//x88
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,//y89
  0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,//z90
  0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,//{91
  0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,//|92
  0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,//}93
  0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//~94
};

/**
  * 简介
  *     写命令
//  */
//void OLED_WrCmd(unsigned char cmd)
//{
//  uint8 i=8;
//  CL_CS
//  CL_DC
//  while(i--)
//  {
//    CL_OSCLK
//    if(cmd&0x80)
//      SDIN
//    else
//      CL_SDIN
//    cmd<<=1;
//    OSCLK
//  }
//  DC
//  CS
//}
void OLED_WrCmd(unsigned char cmd)
{
    CL_DC;

    while ( !( OLED_SPI[1]->S & SPI_S_SPTEF_MASK ) );
    OLED_SPI[1]->D = cmd;

    DC;
}
/**
  * 简介
  *     写数据
  */
//void OLED_WrDat(unsigned char data)
//{
//  uint8 i=8;
//  CL_CS
//  DC
//  while(i--)
//  {
//    CL_OSCLK
//    if(data&0x80)
//      SDIN
//    else
//      CL_SDIN
//    data<<=1;
//    OSCLK
//  }
//  DC
//  CS
//}
void OLED_WrDat(unsigned char data)
{
    DC;
    while( !( OLED_SPI[1]->S & SPI_S_SPTEF_MASK ) );
    OLED_SPI[1]->D = data;
    CL_DC;
}


/**
  * 简介
  *     清屏
  */
void OLED_Clear(void)
{
    uint8 y, x;
    for (y=0; y<8; y++)
    {
        OLED_WrCmd(0xb0+y);//设置页地址（0~7）
        OLED_WrCmd(0x01);  //设置显示位置―列低地址,偏移了1列
        OLED_WrCmd(0x10);  //设置显示位置―列高地址
        for(x=0; x<Max_Column; x++)
            OLED_WrDat(0);
    }
}

/**
  * 简介
  *     画点
  * 参数
  *     x   列 0~127
  *     y   页 0~7
  */
void OLED_Set_Pos(unsigned char x, unsigned char y)
{
  OLED_WrCmd(0xb0+y);
  OLED_WrCmd(((x&0xf0)>>4)|0x10);
  OLED_WrCmd((x&0x0f));
}

/**
  * 简介
  *     OLED初始化
  * 注意
  *     对应引脚请查看Variable.h文件
  */
void OLED_Init(void)
{
    spi_init(SPI_PORT, USE_PCS, MASTER, 20*1000*1000);
//    DDRCS;
    DDRDC;
//    DDRSDIN;
//    DDROSCLK;
    DDRRES;

    CL_RES;
    SystickDelayMs(50);
    RES;

    OLED_WrCmd(0xae);//--turn off oled panel
    OLED_WrCmd(0x00);//---set low column address
    OLED_WrCmd(0x10);//---set high column address
    OLED_WrCmd(0x40);//--set start line address  Set Mapping RAM Display Start Line (0x00~0x3F)
    OLED_WrCmd(0x81);//--set contrast control register
    OLED_WrCmd(0xcf);// Set SEG Output Current Brightness
    OLED_WrCmd(0xa1);//--Set SEG/Column Mapping     0xa0左右反置 0xa1正常
    OLED_WrCmd(0xc8);//Set COM/Row Scan Direction   0xc0上下反置 0xc8正常
    OLED_WrCmd(0xa6);//--set normal display
    OLED_WrCmd(0xa8);//--set multiplex ratio(1 to 64)
    OLED_WrCmd(0x3f);//--1/64 duty
    OLED_WrCmd(0xd3);//-set display offset	Shift Mapping RAM Counter (0x00~0x3F)
    OLED_WrCmd(0x00);//-not offset
    OLED_WrCmd(0xd5);//--set display clock divide ratio/oscillator frequency
    OLED_WrCmd(0x80);//--set divide ratio, Set Clock as 100 Frames/Sec
    OLED_WrCmd(0xd9);//--set pre-charge period
    OLED_WrCmd(0xf1);//Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
    OLED_WrCmd(0xda);//--set com pins hardware configuration
    OLED_WrCmd(0x12);
    OLED_WrCmd(0xdb);//--set vcomh
    OLED_WrCmd(0x40);//Set VCOM Deselect Level
    OLED_WrCmd(0x20);//-Set Page Addressing Mode (0x00/0x01/0x02)
    OLED_WrCmd(0x02);//
    OLED_WrCmd(0x8d);//--set Charge Pump enable/disable
    OLED_WrCmd(0x14);//--set(0x10) disable
    OLED_WrCmd(0xa4);// Disable Entire Display On (0xa4/0xa5)
    OLED_WrCmd(0xa6);// Disable Inverse Display On (0xa6/a7)
    OLED_WrCmd(0xaf);//--turn on oled panel
    OLED_Clear();
    OLED_Set_Pos(0,0);
}

/**
  * 简介
  *     显示一个字符串 f8x16
  */
void OLED_DisplayStr(unsigned char x,unsigned char y,char *str)
{
	unsigned char c=0,i=0,j=0;
	while (str[j]!='\0')
	{
		c=str[j]-32;
		if(x>120){return;}
			OLED_Set_Pos(x,y);
		for(i=0;i<8;i++)
			OLED_WrDat(F8X16[c*16+i]);
		OLED_Set_Pos(x,y+1);
		for(i=0;i<8;i++)
			OLED_WrDat(F8X16[c*16+i+8]);
		x+=8;
		j++;
	}
}

/**
  * 简介
  *     显示一个字符串 f6x8
  */
uint8 OLED_DisplaytinyStr(unsigned char x,unsigned char y,char *str)
{
	unsigned char c=0,i=0,j=0;
	while (str[j]!='\0')
	{
		c = str[j]-32;

			OLED_Set_Pos(x,y);
		for(i=0;i<6;i++)
			OLED_WrDat(F6x8[c][i]);
		x+=6;
		j++;
	}

    return x;
}


/**
  * 简介
  *     绘制一个点（x,y)
  * 参数
  *     x，y     坐标
  * 备注
  *     x的范围0～127，y的范围0～63
  *     最好不要使用此函数，会打乱菜单布局
  */
void OLED_PutPixel(unsigned char x,unsigned char y)
{
  unsigned char data1;  //data1当前点的数据
  if(x>127||y>64)return;
  OLED_Set_Pos(x, y>>3);
  data1 = 0x01<<(y%8);
//  OLED_WrCmd(0xb0+(y>>3));
//  OLED_WrCmd(((x&0xf0)>>4)|0x10);
//  OLED_WrCmd((x&0x0f)|0x00);
  OLED_WrDat(data1);
}

/**
  * 简介
  *     绘制 菜单
  * 备注
  *     y
  *         0 --- 空出
  *         1,5
  *              x  0 ~ 127 双横线
  *         1 ~ 7
  *              x  0,67,127 --- 竖线
  *         1,5
  *              x  30,94 --- 参数数字
  *     页分配
  *         0       --- 空出
  *         1,5     --- 菜单数字
  *         2~4,6~7 --- 显示区域
  *     显示区域坐标
  *         菜单     x   y --- x  y
  *           1      1   2    66  4  可显示 11个字符，3行
  *           2      68  2   126  4  可显示 9 个字符,3行
  *           3      1   6   126  7  可显示 21个字符,2行
  *           4      1   6   126  7  可显示 21个字符,2行
  */
void OLED_Menu()
{
  uint8 i, x, y;

  for (i=0; i<10; i++)
  {
      switch (i)
      {
          //先画横再画竖线，竖线将横线覆盖掉,再画数字覆盖
      case 0://-------------------- 上双横线
          for (x=0; x<128; x++)// 0~127
          {
              OLED_Set_Pos(x, 1);
              OLED_WrDat(0x81);//双横杠为0x81
          }
          break;
      case 1://-------------------- 下双横线
          for (x=0; x<128; x++)// 0~127
          {
              OLED_Set_Pos(x, 5);
              OLED_WrDat(0x81);
          }
          break;
      case 2://-------------------- 左竖线
          for (y=1; y<8; y++)// 1~7
          {
              OLED_Set_Pos(0, y);
              OLED_WrDat(0xff);
          }
          break;
      case 3://-------------------- 中竖线
          for (y=1; y<6; y++)// 1~5
          {
              OLED_Set_Pos(67, y);
              OLED_WrDat(0xff);
          }
          break;
      case 4://-------------------- 右竖线
          for (y=1; y<8; y++)// 1~7
          {
              OLED_Set_Pos(127, y);
              OLED_WrDat(0xff);
          }
          break;
      case 5://-------------------- 菜单1数字
          for (x=0; x<7; x++)
          {
              OLED_Set_Pos(30+x, 1);//30~36
              OLED_WrDat(menuNum[0][x]);
          }
          break;
      case 6://-------------------- 菜单2数字
          for (x=0; x<7; x++)
          {
              OLED_Set_Pos(94+x, 1);//94~101
              OLED_WrDat(menuNum[1][x]);
          }
          break;
      case 7://-------------------- 菜单3数字
          for (x=0; x<7; x++)
          {
              OLED_Set_Pos(30+x, 5);//30~36
              OLED_WrDat(menuNum[2][x]);
          }
          break;
      case 8://-------------------- 菜单4数字
          for (x=0; x<7; x++)
          {
              OLED_Set_Pos(94+x, 5);//94~101
              OLED_WrDat(menuNum[3][x]);
          }
          break;

      case 9:/* 各个菜单预先显示,可屏蔽 */
        
//         OLED_DisplaytinyStr(1, 0, "Chabi:");//菜单1内容显示

         OLED_DisplaytinyStr(1, 2, "P:");//菜单1内容显示
         OLED_DisplaytinyStr(1, 3, "I:");//菜单2内容显示
         OLED_DisplaytinyStr(1, 4, "D:");//菜单3内容显示

         OLED_DisplaytinyStr(68, 2, "P:");//菜单4内容显示
         OLED_DisplaytinyStr(68, 3, "I:");//菜单5内容显示
         OLED_DisplaytinyStr(68, 4, "D:");//菜单6内容显示         
         
//         OLED_DisplaytinyStr(68, 6, "K1:");//菜单10内容显示
         OLED_DisplaytinyStr(1, 6, "AP:");//菜单10内容显示
         OLED_DisplaytinyStr(1, 7, "AD:");//菜单11内容显示
//         OLED_DisplaytinyStr(68, 8, "AL:");//菜单12内容显示
         OLED_DisplaytinyStr(68, 8, "CF:");//菜单12内容显示

         OLED_DisplaytinyStr(68, 6, "SZ:");//菜单7内容显示
         OLED_DisplaytinyStr(68, 7, "SW:");//菜单8内容显示
//         OLED_DisplaytinyStr(1, 9, "K3:");//菜单9内容显示
            break;

      default :
          break;
      }
  }
}

/**
  * 简介
  *     菜单闪烁
  * 备注
  *     当菜单被选中时 闪烁
  */
void OLED_MenuFlicker()
{
  uint8 x, y;

    switch (menuSelect)
    {
    case LOGO://--------------------------- 显示 logo 130ms
        for (x=0; x<128; x++)
        {
            for (y=0; y<8; y++)
            {
                OLED_Set_Pos(x, y);
                OLED_WrDat(logo[x][y]);
            }
        }
        break;
    case MENU://--------------------------- 显示 菜单 38.5ms
        OLED_Menu();
        break;
    case MENU_1://--------------------------- 选择 菜单1 - 消掉菜单4 51us
        for (x=0; x<4; x++)//20~23 选 1
        {
            OLED_Set_Pos(20+x, 1);//第一行20列的三角形
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 4
        {
            OLED_Set_Pos(124+x, 5);//消灭第五行99列三角形
            OLED_WrDat(0x81);
        }
        break;
        
    case MENU_2://--------------------------- 选择 菜单1 - 消掉菜单4 51us
        for (x=0; x<4; x++)//20~23 选 1
        {
            OLED_Set_Pos(40+x, 1);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 4
        {
            OLED_Set_Pos(20+x, 1);
            OLED_WrDat(0x81);
        }
        break;
        
    case MENU_3://--------------------------- 选择 菜单2
        for (x=0; x<4; x++)//84~87 选 2
        {
            OLED_Set_Pos(60+x, 1);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//20~23 消 1
        {
            OLED_Set_Pos(40+x, 1);
            OLED_WrDat(0x81);
        }
        break;
 
        case MENU_4://--------------------------- 选择 菜单2
        for (x=0; x<4; x++)//84~87 选 2
        {
            OLED_Set_Pos(84+x, 1);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//20~23 消 1
        {
            OLED_Set_Pos(60+x, 1);
            OLED_WrDat(0x81);
        }
        break;
        
        
        case MENU_5://--------------------------- 选择 菜单2
        for (x=0; x<4; x++)//84~87 选 2
        {
            OLED_Set_Pos(104+x, 1);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//20~23 消 1
        {
            OLED_Set_Pos(84+x, 1);
            OLED_WrDat(0x81);
        }
        break;
        
        case MENU_6://--------------------------- 选择 菜单2
        for (x=0; x<4; x++)//84~87 选 2
        {
            OLED_Set_Pos(124+x, 1);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//20~23 消 1
        {
            OLED_Set_Pos(104+x, 1);
            OLED_WrDat(0x81);
        }
        break;
        
                
    case MENU_7://--------------------------- 选择 菜单3
        for (x=0; x<4; x++)//20~23 选 3
        {
            OLED_Set_Pos(20+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 2
        {
            OLED_Set_Pos(124+x, 1);
            OLED_WrDat(0x81);
        }
        break;
        
   case MENU_8://--------------------------- 选择 菜单3
        for (x=0; x<4; x++)//20~23 选 3
        {
            OLED_Set_Pos(40+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 2
        {
            OLED_Set_Pos(20+x, 5);
            OLED_WrDat(0x81);
        }
        break;
        
          case MENU_9://--------------------------- 选择 菜单3
        for (x=0; x<4; x++)//20~23 选 3
        {
            OLED_Set_Pos(60+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 2
        {
            OLED_Set_Pos(40+x, 5);
            OLED_WrDat(0x81);
        }
        break;
        
        
        
    case MENU_10://--------------------------- 选择 菜单4第四表格
                for (x=0; x<4; x++)//84~87 选4
        {
            OLED_Set_Pos(84+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 3
        {
            OLED_Set_Pos(60+x, 5);
            OLED_WrDat(0x81);
        }
        break;
        
         case MENU_11://--------------------------- 选择 菜单4第四表格
                for (x=0; x<4; x++)//84~87 选4
        {
            OLED_Set_Pos(104+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 3
        {
            OLED_Set_Pos(84+x, 5);
            OLED_WrDat(0x81);
        }
        break;
        
         case MENU_12://--------------------------- 选择 菜单4第四表格
                for (x=0; x<4; x++)//84~87 选4
        {
            OLED_Set_Pos(124+x, 5);
            OLED_WrDat(menuNum[4][x]);
        }
        for (x=0; x<4; x++)//84~87 消 3
        {
            OLED_Set_Pos(104+x, 5);
            OLED_WrDat(0x81);
        }
        break;
        
    
    default :
        break;
    }
}




/**
  * 简介
  *     uint16 转 uint8
  * 参数
  *     hex     uint16数据
  *     Print   uint8数组地址
  */
void OLED_HEXACSII(uint16 hex, uint8* Print)
{
	uint8 hexcheck ;
	uint8 TEMP ;
	TEMP = 6 ;
	Print[TEMP ]='\0';
	while(TEMP)
	{
	  	TEMP -- ;
	  	hexcheck  =  hex%10 ;
	  	hex   /=10 ;
	  	Print[TEMP ]  = hexcheck + 0x30 ;
	}

}

/**
  * 简介
  *     OLED显示无符号数(6*8字体)
  * 参数
  *     x			x轴坐标设置
  *     y           y轴坐标设置
  *     num         无符号数
  * 返回值
  *     下一个值应该放置的x坐标
  * 备注
  */
uint8 OLED_Uint16(uint8 x, uint8 y, uint16 num)
{
	uint8 *ch1,ch[7], m[7];
    uint8 i = 0;

    if (num == 0)
    {
        m[0] = '0';
        m[1] = '\0';
    }
    else
	{
        OLED_HEXACSII(num,ch);
        ch1 =&ch[1];
        while (*ch1 == '0')
        {
            ch1++;
        }
        for (i=0; *ch1 != '\0'; i++)
        {
            m[i] = *ch1;
            ch1++;
        }
        m[i] = '\0';
    }

    x = OLED_DisplaytinyStr(x, y, (char *)m);	//显示数字

    return x;
}

/**
  * 简介
  *     OLED显示 有符号数 (6*8字体)
  * 参数
  *     x			x轴坐标设置
  *     y           y轴坐标设置
  *     num         有 符号数
  * 备注
  */
void OLED_Int16(uint8 x, uint8 y, int16 num)
{
	if (num < 0)
    {
        num = -num;
        OLED_DisplaytinyStr(x, y, (char *)"-");
        x += 6;
    }
    OLED_Uint16(x, y, num);
}


/**
  * 简介
  *     OLED显示 float (6*8字体)
  * 参数
  *     x			x轴坐标设置
  *     y           y轴坐标设置
  *     len         显示尾数长度
  * 备注
  */
void OLED_DisplayFloat(uint8 x, uint8 y, float data, uint8 len)
{
    uint8 i = 0;
    uint32 integer;//存储整数
    float decimals;//存储小数
    uint8 decimalsInterger;//小数转换为整数

    if (data < 0)
    {
        data = -data;
        OLED_DisplaytinyStr(x, y, (char *)"-");
        x += 6;
    }

    integer = (uint32)data;
    decimals = data - (float)integer;

    //发送整数
    if (data > 9999)
    {
        x = OLED_Uint16(x, y, integer/10000);
    }
    x = OLED_Uint16(x, y, integer%10000);

    //发送小数点
    OLED_DisplaytinyStr(x, y, (char *)".");
    x += 6;

    //发送小数
    while (len)
    {
        len --;
        decimals *= 10;
        decimalsInterger = (uint8)decimals + 0x30 - 32;

        OLED_Set_Pos(x, y);
		for (i=0; i<6; i++)
			OLED_WrDat(F6x8[decimalsInterger][i]);
		x+=6;
        decimals = decimals - (float)(decimalsInterger-0x30+32);
    }
}

/**
  * 简介
  *     OLED显示 键盘
  * 备注
  */
void OLED_Display()
{
	OLED_DisplaytinyStr(0, 0, "U  P_angle +100");
	OLED_DisplaytinyStr(0, 1, "D  P_angle -100");
	OLED_DisplaytinyStr(0, 2, "L  D_angle +1");
	OLED_DisplaytinyStr(0, 3, "R  D_angle -1");
	OLED_DisplaytinyStr(0, 4, "M  chice");
}


void OLED_Display_tinyFormat(unsigned char x,unsigned char y,const char* format,...)
{
	va_list ap;
	char string[64]={0};
	va_start(ap,format);
	vsnprintf(string,64,format,ap);
	va_end(ap);
	OLED_DisplaytinyStr(x,y,string);
}

uint8 StrLen6X8(char *str)
{
    uint8 i=0;
    while(str[i]!='\0')
    {
      i++;
    }
    i++;
    return (i*6);
}
uint8 StrLen8X16(char *str)
{
    uint8 i=0;
    while(str[i]!='\0')
    {
      i++;
    }
    i++;
    return (i*8);
}



void OLED_Draw_Point(unsigned char x,unsigned char y,unsigned char a)
{
   	unsigned char pos,bx,temp=0;

	if(x>127||y>64)
		return;//超出范围了.
	pos=y/8;
	bx=y%8;
	temp=1<<(bx);
	if(a)
		OLED_GRAM[pos][x]|=temp;
	else
		OLED_GRAM[pos][x]&=~temp;
}
void OLED_Clear_allGRAM(void)
{
   unsigned char i,j;
   for(i=0;i<8;i++)
      for(j=0;j<128;j++)
         OLED_GRAM[i][j]=0;
}


/* ---------------------------------------- 存在bug的函数 不到万不得已 不要使用 */

/**
  * 简介
  *     OLED printf显示
  * 参数
  *     x, y 坐标值
  *     format --- "%d"类似这样的
  *     ...    --- 变量，就像使用printf一样
  * 备注
  *     由于逐飞库最底层的修改，printf无法通过类似方法通过串口打印
  *     而逐飞库的printf函数无法打印 %f 类型数据 --- han 1/26
  */
//void OLED_Display_Format(unsigned char x,unsigned char y,const char* format,...)
//{
//	va_list ap;
//	char string[64]={0};
//	va_start(ap,format);
//	vsnprintf(string,64,format,ap);
//	va_end(ap);
//	OLED_DisplayStr(x,y,string);
//}


/**
  * 简介
  *     OLED显示 float
  * 参数
  *     date    float数据
  *     len     显示长度  推荐 9
  * 备注
  *     当 uart.c 文件中的 UART_SendFloat() 中的 UART_FloatArray数组定义
  *     位于 UART_SendFloat() 函数中时，此函数就会无效，未查明原因 --- han 1/28
  */
//void OLED_DisplayFloat(uint8 x, uint8 y, float date, uint8 len)
//{
//////    uint8 i = 0;
////    char OLED_FloatArray[FLOAT_ARRAY_NUM] = {0};
////
//////    //不能在定义时候初始化，不知道原因，总之会死，只能定义完再初始化
//////    for (i=0; i<FLOAT_ARRAY_NUM; i++)
//////    {
//////        OLED_FloatArray[i] = 0;
//////    }
////
////    sprintf(OLED_FloatArray, "%f", date);
////
////    OLED_FloatArray[len] = '\0';
////
////    OLED_DisplayStr(x, y, OLED_FloatArray);
//
//
//    uint8 i=0;
//
//    for (i=0; i<FLOAT_ARRAY_NUM; i++)
//    {
//        UART_SendFloatArray[i] = 0;
//    }
//
//    sprintf(UART_SendFloatArray, "%f", date);
//
//    UART_SendFloatArray[len] = '\0';
//
//    OLED_DisplayStr(x, y, UART_SendFloatArray);
//}

/**
  * 简介
  *     OLED显示 uint16
  * 参数
  *     date    数据
  */
//void OLED_DisplayUint16(uint8 x, uint8 y, uint16 data)
//{
//    char hold[6] = {0};
//    uint16 h = data;
//
//    sprintf(hold, "%uhd", data);
//
//    if (h / 9999)
//    {
//        hold[5] = '\0';
//    }
//    else if (h / 999)
//    {
//        hold[4] = '\0';
//    }
//    else if (h / 99)
//    {
//        hold[3] = '\0';
//    }
//    else if (h / 9)
//    {
//        hold[2] = '\0';
//    }
//    else
//    {
//        hold[1] = '\0';
//    }
//
//    OLED_DisplayStr(x, y, hold);
//}


/* --------------------------- 存在bug的函数 不到万不得已 不要使用 -------- END */


