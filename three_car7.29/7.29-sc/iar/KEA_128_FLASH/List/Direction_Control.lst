###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.2.8542/W32 for ARM        30/Jul/2018  14:35:49
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        H:\智能车程序2018\三轮比赛\7.29-sc\user\C\Direction_Control.c
#    Command line =  
#        H:\智能车程序2018\三轮比赛\7.29-sc\user\C\Direction_Control.c -D IAR
#        -D TWR_K60N512 -D _DLIB_FILE_DESCRIPTOR -lCN
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\KEA_128_FLASH\List\ -lB
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\KEA_128_FLASH\List\ -o
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\KEA_128_FLASH\Obj\ --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M0+ -e --fpu=None
#        --dlib_config F:\IAR安装包\arm\INC\c\DLib_Config_Normal.h -I
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\..\device\H\ -I
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\..\user\H\ -I
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\..\system\ -I
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\..\lib\H\ -I
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\..\system\coreSupport\ -On
#    List file    =  
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\KEA_128_FLASH\List\Direction_Control.lst
#    Object file  =  
#        H:\智能车程序2018\三轮比赛\7.29-sc\iar\KEA_128_FLASH\Obj\Direction_Control.o
#
###############################################################################

H:\智能车程序2018\三轮比赛\7.29-sc\user\C\Direction_Control.c
      1          #include "Direction_Control.h"
      2          #include "math.h"
      3          #include "BL.h"
      4          /*****************************阿克曼角参数2************************************/

   \                                 In section .bss, align 4
      5          float k=0;float k3=0.0,k4=0.0;float B=15.5,L=15;float angle,angle_2;float  speed_temp2=0,speed_temp1=-20;
   \                     k:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     k3:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     k4:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     `B`:
   \   00000000   0x41780000         DC32 41780000H

   \                                 In section .data, align 4
   \                     L:
   \   00000000   0x41700000         DC32 41700000H

   \                                 In section .bss, align 4
   \                     angle:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     angle_2:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     speed_temp2:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     speed_temp1:
   \   00000000   0xC1A00000         DC32 0C1A00000H
      6          /*-----------方向环2---------------------------------------------------------------*/
      7          #define N 3

   \                                 In section .bss, align 4
      8           float Speed_I_D_Temp=0,X=20;float Accum_Error_L[N]={0};float Accum_Error_R[N]={0};float Chazhi_Error_L[N]={0};float Chazhi_Error_R[N]={0};float Sum_Error_L=0,Sum_Error_R=0;float Speed_I_lntegral_L=0 ,Speed_I_lntegral_R=0;float Speed_I_lntegral_Max = 9000;float Direction_Control_Output_L = 0.0;float Direction_Control_Output_R = 0.0,Control_Output_L=0,Control_Output_R=0;uint8 Piaoyi_L=0,Piaoyi_R=0;
   \                     Speed_I_D_Temp:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     X:
   \   00000000   0x41A00000         DC32 41A00000H

   \                                 In section .bss, align 4
   \                     Accum_Error_L:
   \   00000000                      DS8 12

   \                                 In section .bss, align 4
   \                     Accum_Error_R:
   \   00000000                      DS8 12

   \                                 In section .bss, align 4
   \                     Chazhi_Error_L:
   \   00000000                      DS8 12

   \                                 In section .bss, align 4
   \                     Chazhi_Error_R:
   \   00000000                      DS8 12

   \                                 In section .bss, align 4
   \                     Sum_Error_L:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Sum_Error_R:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Speed_I_lntegral_L:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Speed_I_lntegral_R:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     Speed_I_lntegral_Max:
   \   00000000   0x460CA000         DC32 460CA000H

   \                                 In section .bss, align 4
   \                     Direction_Control_Output_L:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_Control_Output_R:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Control_Output_L:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Control_Output_R:
   \   00000000                      DS8 4

   \                                 In section .bss, align 1
   \                     Piaoyi_L:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     Piaoyi_R:
   \   00000000                      DS8 1
      9          /*--------------------------------------------------------------------------*/
     10          /********************************************************************************/

   \                                 In section .data, align 4
     11          float Chazhi_point=45;
   \                     Chazhi_point:
   \   00000000   0x42340000         DC32 42340000H

   \                                 In section .data, align 4
     12          float  Angle_Weight=0.5,Direction_Weight=0.5;
   \                     Angle_Weight:
   \   00000000   0x3F000000         DC32 3F000000H

   \                                 In section .data, align 4
   \                     Direction_Weight:
   \   00000000   0x3F000000         DC32 3F000000H

   \                                 In section .data, align 4
     13          float Chazhi_limit=75;float Chasu_Bili=1,Chasu_Bili_Temp=1, Speed_Bili=1,Chazhi_Bili=1,Chazhi_Bili_Temp=1,Speed_Bili_Temp=1,Chazhi_Temp=0;double angle_limit=60,angle_limit_2=60;float change_bili_F=1,change_bili_Z=1;float speed_dead_F=-0;int change_value=10;int change_factor=0; int change_variable=0;                                                                float Angle_P_choose;int   angle_P=60;
   \                     Chazhi_limit:
   \   00000000   0x42960000         DC32 42960000H

   \                                 In section .data, align 4
   \                     Chasu_Bili:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     Chasu_Bili_Temp:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     Speed_Bili:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     Chazhi_Bili:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     Chazhi_Bili_Temp:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     Speed_Bili_Temp:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .bss, align 4
   \                     Chazhi_Temp:
   \   00000000                      DS8 4

   \                                 In section .data, align 8
   \                     angle_limit:
   \   00000000   0x00000000         DC32 0H, 404E0000H
   \              0x404E0000   

   \                                 In section .data, align 8
   \                     angle_limit_2:
   \   00000000   0x00000000         DC32 0H, 404E0000H
   \              0x404E0000   

   \                                 In section .data, align 4
   \                     change_bili_F:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .data, align 4
   \                     change_bili_Z:
   \   00000000   0x3F800000         DC32 3F800000H

   \                                 In section .bss, align 4
   \                     speed_dead_F:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     change_value:
   \   00000000   0x0000000A         DC32 10

   \                                 In section .bss, align 4
   \                     change_factor:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     change_variable:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Angle_P_choose:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     angle_P:
   \   00000000   0x0000003C         DC32 60

   \                                 In section .bss, align 4
     14          float Direction_P2_Temp=0,Direction_P2_Speed=0,Direction_P2_Chazhi=0;int t=0;
   \                     Direction_P2_Temp:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_P2_Speed:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_P2_Chazhi:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     t:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     15          float Angle_P_Temp=0,Angle_D_Speed=0,Angle_D_Chazhi=0;
   \                     Angle_P_Temp:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Angle_D_Speed:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Angle_D_Chazhi:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     16          float speed_point=0; float Direction_P_Temp=0;  
   \                     speed_point:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_P_Temp:
   \   00000000                      DS8 4
     17          /************************常用调参变量**************************************************/

   \                                 In section .data, align 4
     18           int Chazhi_Change=50,Chazhi_Change2=75;
   \                     Chazhi_Change:
   \   00000000   0x00000032         DC32 50

   \                                 In section .data, align 4
   \                     Chazhi_Change2:
   \   00000000   0x0000004B         DC32 75

   \                                 In section .bss, align 4
     19             int  Direction_P2_Change=0,Angle_P_Change=0; 
   \                     Direction_P2_Change:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Angle_P_Change:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
     20          float  speed_set  = 80,//改5ms 
   \                     speed_set:
   \   00000000   0x42A00000         DC32 42A00000H
     21          

   \                                 In section .data, align 4
     22              Direction_P=100,        Direction_D=0,          Direction_I=100,          //阿克曼角位置式方向+速度环
   \                     Direction_P:
   \   00000000   0x42C80000         DC32 42C80000H

   \                                 In section .bss, align 4
   \                     Direction_D:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     Direction_I:
   \   00000000   0x42C80000         DC32 42C80000H

   \                                 In section .data, align 4
     23              Direction_P2=700,     Direction_D2=-1000,         Direction_I2=0.0,                 //差值位置式 
   \                     Direction_P2:
   \   00000000   0x442F0000         DC32 442F0000H

   \                                 In section .data, align 4
   \                     Direction_D2:
   \   00000000   0xC47A0000         DC32 0C47A0000H

   \                                 In section .bss, align 4
   \                     Direction_I2:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
     24              Angle_P=100,          Angle_D=0,                  Angle_D_Temp,//陀螺仪
   \                     Angle_P:
   \   00000000   0x42C80000         DC32 42C80000H

   \                                 In section .bss, align 4
   \                     Angle_D:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Angle_D_Temp:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     25                                                              Speed_P=0,          Speed_I=0,                 Speed_D=0.00;//速度还增量式
   \                     Speed_P:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Speed_I:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Speed_D:
   \   00000000                      DS8 4
     26          /************************常用调参变量**************************************************/

   \                                 In section .text, align 2, keep-with-next
     27          void Direction_Controler(void)//2.71828
     28          {
   \                     Direction_Controler: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0xB08D             SUB      SP,SP,#+52
     29           float speed_error2=0;
   \   00000004   0x2000             MOVS     R0,#+0
   \   00000006   0x9002             STR      R0,[SP, #+8]
     30            float K1=0,K2=0,K3=0,K4=10;
   \   00000008   0x2000             MOVS     R0,#+0
   \   0000000A   0x900B             STR      R0,[SP, #+44]
   \   0000000C   0x2000             MOVS     R0,#+0
   \   0000000E   0x900A             STR      R0,[SP, #+40]
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x9009             STR      R0,[SP, #+36]
   \   00000014   0x....             LDR      R0,??DataTable0  ;; 0x41200000
   \   00000016   0x9008             STR      R0,[SP, #+32]
     31            float Son_DP=0,Son_AP=0,Son_AD=0,Son_AD_Max=100,jsd=0;
   \   00000018   0x2000             MOVS     R0,#+0
   \   0000001A   0x9001             STR      R0,[SP, #+4]
   \   0000001C   0x2500             MOVS     R5,#+0
   \   0000001E   0x2000             MOVS     R0,#+0
   \   00000020   0x9007             STR      R0,[SP, #+28]
   \   00000022   0x....             LDR      R0,??DataTable0_1  ;; 0x42c80000
   \   00000024   0x9006             STR      R0,[SP, #+24]
   \   00000026   0x2400             MOVS     R4,#+0
     32            float Son_DP2=0,Son_AP2=0;
   \   00000028   0x2000             MOVS     R0,#+0
   \   0000002A   0x9005             STR      R0,[SP, #+20]
   \   0000002C   0x2000             MOVS     R0,#+0
   \   0000002E   0x9004             STR      R0,[SP, #+16]
     33            float Chazhi_Mid=50,Chazhi_Error=0,Chazhi_Error2=0;
   \   00000030   0x....             LDR      R0,??DataTable0_2  ;; 0x42480000
   \   00000032   0x9003             STR      R0,[SP, #+12]
   \   00000034   0x2000             MOVS     R0,#+0
   \   00000036   0x9000             STR      R0,[SP, #+0]
   \   00000038   0x2600             MOVS     R6,#+0
     34          //车速小， 正值；车速大，负值 
     35          speed_error2=speed_buzzer-speed_car;
   \   0000003A   0x....             LDR      R0,??DataTable0_3
   \   0000003C   0x6800             LDR      R0,[R0, #+0]
   \   0000003E   0x....             LDR      R1,??DataTable0_4
   \   00000040   0x6809             LDR      R1,[R1, #+0]
   \   00000042   0x.... 0x....      BL       __aeabi_fsub
   \   00000046   0x9002             STR      R0,[SP, #+8]
     36          
     37          //差值P改变--------------------------------------------
     38            if(abs_f(Chazhi)>Chazhi_Change)
   \   00000048   0x....             LDR      R0,??DataTable0_5
   \   0000004A   0x6800             LDR      R0,[R0, #+0]
   \   0000004C   0x.... 0x....      BL       abs_f
   \   00000050   0x0007             MOVS     R7,R0
   \   00000052   0x....             LDR      R0,??DataTable0_6
   \   00000054   0x6800             LDR      R0,[R0, #+0]
   \   00000056   0x.... 0x....      BL       __aeabi_i2f
   \   0000005A   0x0039             MOVS     R1,R7
   \   0000005C   0x.... 0x....      BL       __aeabi_cfcmple
   \   00000060   0xD20B             BCS      ??Direction_Controler_0
     39              Chazhi_Error=(abs_f(Chazhi)-50)/50;
   \   00000062   0x....             LDR      R0,??DataTable0_5
   \   00000064   0x6800             LDR      R0,[R0, #+0]
   \   00000066   0x.... 0x....      BL       abs_f
   \   0000006A   0x....             LDR      R1,??DataTable0_7  ;; 0xc2480000
   \   0000006C   0x.... 0x....      BL       __aeabi_fadd
   \   00000070   0x....             LDR      R1,??DataTable0_2  ;; 0x42480000
   \   00000072   0x.... 0x....      BL       __aeabi_fdiv
   \   00000076   0x9000             STR      R0,[SP, #+0]
   \   00000078   0xE001             B        ??Direction_Controler_1
     40          else
     41              Chazhi_Error=0;
   \                     ??Direction_Controler_0: (+1)
   \   0000007A   0x2000             MOVS     R0,#+0
   \   0000007C   0x9000             STR      R0,[SP, #+0]
     42            Son_DP=Direction_P2_Change*Chazhi_Error;
   \                     ??Direction_Controler_1: (+1)
   \   0000007E   0x....             LDR      R0,??DataTable0_8
   \   00000080   0x6800             LDR      R0,[R0, #+0]
   \   00000082   0x.... 0x....      BL       __aeabi_i2f
   \   00000086   0x9900             LDR      R1,[SP, #+0]
   \   00000088   0x.... 0x....      BL       __aeabi_fmul
   \   0000008C   0x9001             STR      R0,[SP, #+4]
     43            
     44          //陀螺仪P--------------------------------------------
     45          if(abs_f(Chazhi)>Chazhi_Change2)
   \   0000008E   0x....             LDR      R0,??DataTable0_5
   \   00000090   0x6800             LDR      R0,[R0, #+0]
   \   00000092   0x.... 0x....      BL       abs_f
   \   00000096   0x0007             MOVS     R7,R0
   \   00000098   0x....             LDR      R0,??DataTable0_9
   \   0000009A   0x6800             LDR      R0,[R0, #+0]
   \   0000009C   0x.... 0x....      BL       __aeabi_i2f
   \   000000A0   0x0039             MOVS     R1,R7
   \   000000A2   0x.... 0x....      BL       __aeabi_cfcmple
   \   000000A6   0xD20B             BCS      ??Direction_Controler_2
     46              Chazhi_Error2=(abs_f(Chazhi)-75)/25;
   \   000000A8   0x....             LDR      R0,??DataTable0_5
   \   000000AA   0x6800             LDR      R0,[R0, #+0]
   \   000000AC   0x.... 0x....      BL       abs_f
   \   000000B0   0x....             LDR      R1,??DataTable0_10  ;; 0xc2960000
   \   000000B2   0x.... 0x....      BL       __aeabi_fadd
   \   000000B6   0x....             LDR      R1,??DataTable0_11  ;; 0x41c80000
   \   000000B8   0x.... 0x....      BL       __aeabi_fdiv
   \   000000BC   0x0006             MOVS     R6,R0
   \   000000BE   0xE001             B        ??Direction_Controler_3
     47          else
     48              Chazhi_Error2=0;
   \                     ??Direction_Controler_2: (+1)
   \   000000C0   0x2000             MOVS     R0,#+0
   \   000000C2   0x0006             MOVS     R6,R0
     49              Son_AP=Angle_P_Change*Chazhi_Error2; 
   \                     ??Direction_Controler_3: (+1)
   \   000000C4   0x....             LDR      R0,??DataTable0_12
   \   000000C6   0x6800             LDR      R0,[R0, #+0]
   \   000000C8   0x.... 0x....      BL       __aeabi_i2f
   \   000000CC   0x0031             MOVS     R1,R6
   \   000000CE   0x.... 0x....      BL       __aeabi_fmul
   \   000000D2   0x0005             MOVS     R5,R0
     50          
     51          Direction_P2_Temp=Direction_P2+Son_DP;
   \   000000D4   0x....             LDR      R0,??DataTable0_13
   \   000000D6   0x6801             LDR      R1,[R0, #+0]
   \   000000D8   0x9801             LDR      R0,[SP, #+4]
   \   000000DA   0x.... 0x....      BL       __aeabi_fadd
   \   000000DE   0x....             LDR      R1,??DataTable0_14
   \   000000E0   0x6008             STR      R0,[R1, #+0]
     52          
     53          //--------------------------------------------
     54          if(abs_f(Chazhi)<20)
   \   000000E2   0x....             LDR      R0,??DataTable0_5
   \   000000E4   0x6800             LDR      R0,[R0, #+0]
   \   000000E6   0x.... 0x....      BL       abs_f
   \   000000EA   0x....             LDR      R1,??DataTable0_15  ;; 0x41a00000
   \   000000EC   0x.... 0x....      BL       __aeabi_cfcmple
   \   000000F0   0xD202             BCS      ??Direction_Controler_4
     55          { 
     56          Angle_P_Temp=0+Son_AP;
   \   000000F2   0x....             LDR      R0,??DataTable0_16
   \   000000F4   0x6005             STR      R5,[R0, #+0]
   \   000000F6   0xE02E             B        ??Direction_Controler_5
     57          }
     58          else if(abs_f(Chazhi)<40)//20-40
   \                     ??Direction_Controler_4: (+1)
   \   000000F8   0x....             LDR      R0,??DataTable0_5
   \   000000FA   0x6800             LDR      R0,[R0, #+0]
   \   000000FC   0x.... 0x....      BL       abs_f
   \   00000100   0x....             LDR      R1,??DataTable0_17  ;; 0x42200000
   \   00000102   0x.... 0x....      BL       __aeabi_cfcmple
   \   00000106   0xD20B             BCS      ??Direction_Controler_6
     59          { 
     60          Angle_P_Temp=Angle_P/4+Son_AP;
   \   00000108   0x....             LDR      R0,??DataTable0_18
   \   0000010A   0x6800             LDR      R0,[R0, #+0]
   \   0000010C   0x2181             MOVS     R1,#+129
   \   0000010E   0x05C9             LSLS     R1,R1,#+23       ;; #+1082130432
   \   00000110   0x.... 0x....      BL       __aeabi_fdiv
   \   00000114   0x0029             MOVS     R1,R5
   \   00000116   0x.... 0x....      BL       __aeabi_fadd
   \   0000011A   0x....             LDR      R1,??DataTable0_16
   \   0000011C   0x6008             STR      R0,[R1, #+0]
   \   0000011E   0xE01A             B        ??Direction_Controler_5
     61          }else if(abs_f(Chazhi)<50)//40-50
   \                     ??Direction_Controler_6: (+1)
   \   00000120   0x....             LDR      R0,??DataTable0_5
   \   00000122   0x6800             LDR      R0,[R0, #+0]
   \   00000124   0x.... 0x....      BL       abs_f
   \   00000128   0x....             LDR      R1,??DataTable0_2  ;; 0x42480000
   \   0000012A   0x.... 0x....      BL       __aeabi_cfcmple
   \   0000012E   0xD20B             BCS      ??Direction_Controler_7
     62          { 
     63          Angle_P_Temp=Angle_P/2+Son_AP;
   \   00000130   0x....             LDR      R0,??DataTable0_18
   \   00000132   0x6800             LDR      R0,[R0, #+0]
   \   00000134   0x2180             MOVS     R1,#+128
   \   00000136   0x05C9             LSLS     R1,R1,#+23       ;; #+1073741824
   \   00000138   0x.... 0x....      BL       __aeabi_fdiv
   \   0000013C   0x0029             MOVS     R1,R5
   \   0000013E   0x.... 0x....      BL       __aeabi_fadd
   \   00000142   0x....             LDR      R1,??DataTable0_16
   \   00000144   0x6008             STR      R0,[R1, #+0]
   \   00000146   0xE006             B        ??Direction_Controler_5
     64          }
     65          else 
     66          {
     67          Angle_P_Temp=Angle_P+Son_AP;
   \                     ??Direction_Controler_7: (+1)
   \   00000148   0x....             LDR      R0,??DataTable0_18
   \   0000014A   0x6800             LDR      R0,[R0, #+0]
   \   0000014C   0x0029             MOVS     R1,R5
   \   0000014E   0x.... 0x....      BL       __aeabi_fadd
   \   00000152   0x....             LDR      R1,??DataTable0_16
   \   00000154   0x6008             STR      R0,[R1, #+0]
     68          }   
     69          //--------------------------------------------
     70          if(gyr_angle_speed>200)
   \                     ??Direction_Controler_5: (+1)
   \   00000156   0x....             LDR      R0,??DataTable0_19
   \   00000158   0x6800             LDR      R0,[R0, #+0]
   \   0000015A   0x....             LDR      R1,??DataTable0_20  ;; 0x43480001
   \   0000015C   0x.... 0x....      BL       __aeabi_cfrcmple
   \   00000160   0xD802             BHI      ??Direction_Controler_8
     71               gyr_angle_speed=200;
   \   00000162   0x....             LDR      R0,??DataTable0_21  ;; 0x43480000
   \   00000164   0x....             LDR      R1,??DataTable0_19
   \   00000166   0x6008             STR      R0,[R1, #+0]
     72          if(gyr_angle_speed<-200)
   \                     ??Direction_Controler_8: (+1)
   \   00000168   0x....             LDR      R0,??DataTable0_19
   \   0000016A   0x6800             LDR      R0,[R0, #+0]
   \   0000016C   0x....             LDR      R1,??DataTable0_22  ;; 0xc3480000
   \   0000016E   0x.... 0x....      BL       __aeabi_cfcmple
   \   00000172   0xD202             BCS      ??Direction_Controler_9
     73               gyr_angle_speed=-200;
   \   00000174   0x....             LDR      R0,??DataTable0_22  ;; 0xc3480000
   \   00000176   0x....             LDR      R1,??DataTable0_19
   \   00000178   0x6008             STR      R0,[R1, #+0]
     74          if(Chazhi>0)//左转角速度负，
   \                     ??Direction_Controler_9: (+1)
   \   0000017A   0x....             LDR      R0,??DataTable0_5
   \   0000017C   0x6800             LDR      R0,[R0, #+0]
   \   0000017E   0x2100             MOVS     R1,#+0
   \   00000180   0x.... 0x....      BL       __aeabi_cfrcmple
   \   00000184   0xD208             BCS      ??Direction_Controler_10
     75             jsd=-1*abs_f(gyr_angle_speed);
   \   00000186   0x....             LDR      R0,??DataTable0_19
   \   00000188   0x6800             LDR      R0,[R0, #+0]
   \   0000018A   0x.... 0x....      BL       abs_f
   \   0000018E   0x....             LDR      R1,??DataTable0_23  ;; 0xbf800000
   \   00000190   0x.... 0x....      BL       __aeabi_fmul
   \   00000194   0x0004             MOVS     R4,R0
   \   00000196   0xE004             B        ??Direction_Controler_11
     76          else//右转，角速度正
     77             jsd=abs_f(gyr_angle_speed);
   \                     ??Direction_Controler_10: (+1)
   \   00000198   0x....             LDR      R0,??DataTable0_19
   \   0000019A   0x6800             LDR      R0,[R0, #+0]
   \   0000019C   0x.... 0x....      BL       abs_f
   \   000001A0   0x0004             MOVS     R4,R0
     78          //--------------------------------------------
     79          Direction_Control_Output_L = 
     80                                       -Direction_P2_Temp*Chazhi-Direction_D2*Chazhi_Rate 
     81                                         +Angle_P_Temp*jsd-Angle_D_Temp*jsd ;//gyr_angle_speed:值左转负有转正
   \                     ??Direction_Controler_11: (+1)
   \   000001A2   0x....             LDR      R0,??DataTable0_14
   \   000001A4   0x6801             LDR      R1,[R0, #+0]
   \   000001A6   0x2080             MOVS     R0,#+128
   \   000001A8   0x0600             LSLS     R0,R0,#+24       ;; #-2147483648
   \   000001AA   0x4041             EORS     R1,R1,R0
   \   000001AC   0x....             LDR      R0,??DataTable0_5
   \   000001AE   0x6800             LDR      R0,[R0, #+0]
   \   000001B0   0x.... 0x....      BL       __aeabi_fmul
   \   000001B4   0x0007             MOVS     R7,R0
   \   000001B6   0x....             LDR      R0,??DataTable0_24
   \   000001B8   0x6801             LDR      R1,[R0, #+0]
   \   000001BA   0x....             LDR      R0,??DataTable0_25
   \   000001BC   0x6800             LDR      R0,[R0, #+0]
   \   000001BE   0x.... 0x....      BL       __aeabi_fmul
   \   000001C2   0x0001             MOVS     R1,R0
   \   000001C4   0x0038             MOVS     R0,R7
   \   000001C6   0x.... 0x....      BL       __aeabi_fsub
   \   000001CA   0x0001             MOVS     R1,R0
   \   000001CC   0x000F             MOVS     R7,R1
   \   000001CE   0x....             LDR      R0,??DataTable0_16
   \   000001D0   0x6800             LDR      R0,[R0, #+0]
   \   000001D2   0x0021             MOVS     R1,R4
   \   000001D4   0x.... 0x....      BL       __aeabi_fmul
   \   000001D8   0x0039             MOVS     R1,R7
   \   000001DA   0x.... 0x....      BL       __aeabi_fadd
   \   000001DE   0x0007             MOVS     R7,R0
   \   000001E0   0x....             LDR      R0,??DataTable1_1
   \   000001E2   0x6800             LDR      R0,[R0, #+0]
   \   000001E4   0x0021             MOVS     R1,R4
   \   000001E6   0x.... 0x....      BL       __aeabi_fmul
   \   000001EA   0x0001             MOVS     R1,R0
   \   000001EC   0x0038             MOVS     R0,R7
   \   000001EE   0x.... 0x....      BL       __aeabi_fsub
   \   000001F2   0x....             LDR      R1,??DataTable1
   \   000001F4   0x6008             STR      R0,[R1, #+0]
     82          Direction_Control_Output_R = 
     83                                       Direction_P2_Temp*Chazhi+Direction_D2*Chazhi_Rate
     84                                       -Angle_P_Temp*jsd+Angle_D_Temp*jsd;
   \   000001F6   0x....             LDR      R0,??DataTable0_14
   \   000001F8   0x6801             LDR      R1,[R0, #+0]
   \   000001FA   0x....             LDR      R0,??DataTable0_5
   \   000001FC   0x6800             LDR      R0,[R0, #+0]
   \   000001FE   0x.... 0x....      BL       __aeabi_fmul
   \   00000202   0x0001             MOVS     R1,R0
   \   00000204   0x000F             MOVS     R7,R1
   \   00000206   0x....             LDR      R0,??DataTable0_24
   \   00000208   0x6801             LDR      R1,[R0, #+0]
   \   0000020A   0x....             LDR      R0,??DataTable0_25
   \   0000020C   0x6800             LDR      R0,[R0, #+0]
   \   0000020E   0x.... 0x....      BL       __aeabi_fmul
   \   00000212   0x0039             MOVS     R1,R7
   \   00000214   0x.... 0x....      BL       __aeabi_fadd
   \   00000218   0x0007             MOVS     R7,R0
   \   0000021A   0x....             LDR      R0,??DataTable0_16
   \   0000021C   0x6800             LDR      R0,[R0, #+0]
   \   0000021E   0x0021             MOVS     R1,R4
   \   00000220   0x.... 0x....      BL       __aeabi_fmul
   \   00000224   0x0001             MOVS     R1,R0
   \   00000226   0x0038             MOVS     R0,R7
   \   00000228   0x.... 0x....      BL       __aeabi_fsub
   \   0000022C   0x0001             MOVS     R1,R0
   \   0000022E   0x000F             MOVS     R7,R1
   \   00000230   0x....             LDR      R0,??DataTable1_1
   \   00000232   0x6800             LDR      R0,[R0, #+0]
   \   00000234   0x0021             MOVS     R1,R4
   \   00000236   0x.... 0x....      BL       __aeabi_fmul
   \   0000023A   0x0039             MOVS     R1,R7
   \   0000023C   0x.... 0x....      BL       __aeabi_fadd
   \   00000240   0x....             LDR      R1,??DataTable1_21
   \   00000242   0x6008             STR      R0,[R1, #+0]
     85          }
   \   00000244   0xB00D             ADD      SP,SP,#+52
   \   00000246   0xBDF0             POP      {R4-R7,PC}       ;; return
     86          

   \                                 In section .bss, align 4
     87           int akmj_z=0,akmj_w=20;//w20
   \                     akmj_z:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
   \                     akmj_w:
   \   00000000   0x00000014         DC32 20
     88          /*方向阿克曼角差速控制***************************************************************/

   \                                 In section .text, align 2, keep-with-next
     89          void Direction_ChaSpeed_Control(void)//(short int angle)
     90          {   
   \                     Direction_ChaSpeed_Control: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0xB085             SUB      SP,SP,#+20
     91           int k1=1;
   \   00000004   0x2401             MOVS     R4,#+1
     92           angle_limit=80;
   \   00000006   0x2000             MOVS     R0,#+0
   \   00000008   0x....             LDR      R1,??DataTable1_2  ;; 0x40540000
   \   0000000A   0x....             LDR      R2,??DataTable1_11
   \   0000000C   0xC203             STM      R2!,{R0,R1}
   \   0000000E   0x3A08             SUBS     R2,R2,#+8
     93           angle=Chazhi*1;
   \   00000010   0x....             LDR      R0,??DataTable1_3
   \   00000012   0x6801             LDR      R1,[R0, #+0]
   \   00000014   0x20FE             MOVS     R0,#+254
   \   00000016   0x0580             LSLS     R0,R0,#+22       ;; #+1065353216
   \   00000018   0x.... 0x....      BL       __aeabi_fmul
   \   0000001C   0x....             LDR      R1,??DataTable1_18
   \   0000001E   0x6008             STR      R0,[R1, #+0]
     94           
     95             if(StraightRoad_Flag==1)
   \   00000020   0x....             LDR      R0,??DataTable1_4
   \   00000022   0x6800             LDR      R0,[R0, #+0]
   \   00000024   0x2801             CMP      R0,#+1
   \   00000026   0xD117             BNE      ??Direction_ChaSpeed_Control_0
     96              {
     97                 speed_set_temp_L=speed_set+akmj_z;
   \   00000028   0x....             LDR      R0,??DataTable1_5
   \   0000002A   0x6800             LDR      R0,[R0, #+0]
   \   0000002C   0x.... 0x....      BL       __aeabi_i2f
   \   00000030   0x....             LDR      R1,??DataTable1_8
   \   00000032   0x6809             LDR      R1,[R1, #+0]
   \   00000034   0x.... 0x....      BL       __aeabi_fadd
   \   00000038   0x....             LDR      R1,??DataTable1_12
   \   0000003A   0x6008             STR      R0,[R1, #+0]
     98                 speed_set_temp_R=speed_set+akmj_z;
   \   0000003C   0x....             LDR      R0,??DataTable1_5
   \   0000003E   0x6800             LDR      R0,[R0, #+0]
   \   00000040   0x.... 0x....      BL       __aeabi_i2f
   \   00000044   0x....             LDR      R1,??DataTable1_8
   \   00000046   0x6809             LDR      R1,[R1, #+0]
   \   00000048   0x.... 0x....      BL       __aeabi_fadd
   \   0000004C   0x....             LDR      R1,??DataTable1_14
   \   0000004E   0x6008             STR      R0,[R1, #+0]
     99                 Direction_P_Temp=Direction_P;
   \   00000050   0x....             LDR      R0,??DataTable1_9
   \   00000052   0x6800             LDR      R0,[R0, #+0]
   \   00000054   0x....             LDR      R1,??DataTable1_10
   \   00000056   0x6008             STR      R0,[R1, #+0]
    100              } 
    101              if(WindingRoad_Flag==1)
   \                     ??Direction_ChaSpeed_Control_0: (+1)
   \   00000058   0x....             LDR      R0,??DataTable1_6
   \   0000005A   0x6800             LDR      R0,[R0, #+0]
   \   0000005C   0x2801             CMP      R0,#+1
   \   0000005E   0xD117             BNE      ??Direction_ChaSpeed_Control_1
    102              {
    103                 speed_set_temp_L=speed_set+akmj_w;
   \   00000060   0x....             LDR      R0,??DataTable1_7
   \   00000062   0x6800             LDR      R0,[R0, #+0]
   \   00000064   0x.... 0x....      BL       __aeabi_i2f
   \   00000068   0x....             LDR      R1,??DataTable1_8
   \   0000006A   0x6809             LDR      R1,[R1, #+0]
   \   0000006C   0x.... 0x....      BL       __aeabi_fadd
   \   00000070   0x....             LDR      R1,??DataTable1_12
   \   00000072   0x6008             STR      R0,[R1, #+0]
    104                 speed_set_temp_R=speed_set+akmj_w;
   \   00000074   0x....             LDR      R0,??DataTable1_7
   \   00000076   0x6800             LDR      R0,[R0, #+0]
   \   00000078   0x.... 0x....      BL       __aeabi_i2f
   \   0000007C   0x....             LDR      R1,??DataTable1_8
   \   0000007E   0x6809             LDR      R1,[R1, #+0]
   \   00000080   0x.... 0x....      BL       __aeabi_fadd
   \   00000084   0x....             LDR      R1,??DataTable1_14
   \   00000086   0x6008             STR      R0,[R1, #+0]
    105                 Direction_P_Temp=Direction_P-0;
   \   00000088   0x....             LDR      R0,??DataTable1_9
   \   0000008A   0x6800             LDR      R0,[R0, #+0]
   \   0000008C   0x....             LDR      R1,??DataTable1_10
   \   0000008E   0x6008             STR      R0,[R1, #+0]
    106              }
    107            
    108             
    109            if(angle>angle_limit)   angle=angle_limit;
   \                     ??Direction_ChaSpeed_Control_1: (+1)
   \   00000090   0x....             LDR      R0,??DataTable1_18
   \   00000092   0x6800             LDR      R0,[R0, #+0]
   \   00000094   0x.... 0x....      BL       __aeabi_f2d
   \   00000098   0x0002             MOVS     R2,R0
   \   0000009A   0x000B             MOVS     R3,R1
   \   0000009C   0x....             LDR      R0,??DataTable1_11
   \   0000009E   0xC803             LDM      R0,{R0,R1}
   \   000000A0   0x.... 0x....      BL       __aeabi_cdcmple
   \   000000A4   0xD205             BCS      ??Direction_ChaSpeed_Control_2
   \   000000A6   0x....             LDR      R0,??DataTable1_11
   \   000000A8   0xC803             LDM      R0,{R0,R1}
   \   000000AA   0x.... 0x....      BL       __aeabi_d2f
   \   000000AE   0x....             LDR      R1,??DataTable1_18
   \   000000B0   0x6008             STR      R0,[R1, #+0]
    110            if(angle<-angle_limit)   angle=-angle_limit;//0.5  1.5    k=1  1.5   2.5
   \                     ??Direction_ChaSpeed_Control_2: (+1)
   \   000000B2   0x....             LDR      R0,??DataTable1_18
   \   000000B4   0x6800             LDR      R0,[R0, #+0]
   \   000000B6   0x.... 0x....      BL       __aeabi_f2d
   \   000000BA   0x....             LDR      R2,??DataTable1_11
   \   000000BC   0xCA0C             LDM      R2,{R2,R3}
   \   000000BE   0x2580             MOVS     R5,#+128
   \   000000C0   0x062D             LSLS     R5,R5,#+24       ;; #-2147483648
   \   000000C2   0x406B             EORS     R3,R3,R5
   \   000000C4   0x.... 0x....      BL       __aeabi_cdcmple
   \   000000C8   0xD208             BCS      ??Direction_ChaSpeed_Control_3
   \   000000CA   0x....             LDR      R0,??DataTable1_11
   \   000000CC   0xC803             LDM      R0,{R0,R1}
   \   000000CE   0x2280             MOVS     R2,#+128
   \   000000D0   0x0612             LSLS     R2,R2,#+24       ;; #-2147483648
   \   000000D2   0x4051             EORS     R1,R1,R2
   \   000000D4   0x.... 0x....      BL       __aeabi_d2f
   \   000000D8   0x....             LDR      R1,??DataTable1_18
   \   000000DA   0x6008             STR      R0,[R1, #+0]
    111             
    112             speed_set_L=speed_set_temp_L*(1+k-Chasu_Bili*B*tan((double)(angle*0.01745))/(2*L));//tan((double)(angle*0.01745))
   \                     ??Direction_ChaSpeed_Control_3: (+1)
   \   000000DC   0x....             LDR      R0,??DataTable1_12
   \   000000DE   0x6800             LDR      R0,[R0, #+0]
   \   000000E0   0x.... 0x....      BL       __aeabi_f2d
   \   000000E4   0x9002             STR      R0,[SP, #+8]
   \   000000E6   0x9103             STR      R1,[SP, #+12]
   \   000000E8   0x....             LDR      R0,??DataTable1_15
   \   000000EA   0x6801             LDR      R1,[R0, #+0]
   \   000000EC   0x20FE             MOVS     R0,#+254
   \   000000EE   0x0580             LSLS     R0,R0,#+22       ;; #+1065353216
   \   000000F0   0x.... 0x....      BL       __aeabi_fadd
   \   000000F4   0x.... 0x....      BL       __aeabi_f2d
   \   000000F8   0x9000             STR      R0,[SP, #+0]
   \   000000FA   0x9101             STR      R1,[SP, #+4]
   \   000000FC   0x....             LDR      R0,??DataTable1_16
   \   000000FE   0x6801             LDR      R1,[R0, #+0]
   \   00000100   0x....             LDR      R0,??DataTable1_17
   \   00000102   0x6800             LDR      R0,[R0, #+0]
   \   00000104   0x.... 0x....      BL       __aeabi_fmul
   \   00000108   0x.... 0x....      BL       __aeabi_f2d
   \   0000010C   0x0006             MOVS     R6,R0
   \   0000010E   0x000F             MOVS     R7,R1
   \   00000110   0x....             LDR      R0,??DataTable1_18
   \   00000112   0x6800             LDR      R0,[R0, #+0]
   \   00000114   0x.... 0x....      BL       __aeabi_f2d
   \   00000118   0x....             ADR      R2,??DataTable1_19
   \   0000011A   0xCA0C             LDM      R2,{R2,R3}
   \   0000011C   0x.... 0x....      BL       __aeabi_dmul
   \   00000120   0x.... 0x....      BL       tan
   \   00000124   0x0032             MOVS     R2,R6
   \   00000126   0x003B             MOVS     R3,R7
   \   00000128   0x.... 0x....      BL       __aeabi_dmul
   \   0000012C   0x0006             MOVS     R6,R0
   \   0000012E   0x000F             MOVS     R7,R1
   \   00000130   0x....             LDR      R0,??DataTable1_20
   \   00000132   0x6801             LDR      R1,[R0, #+0]
   \   00000134   0x2080             MOVS     R0,#+128
   \   00000136   0x05C0             LSLS     R0,R0,#+23       ;; #+1073741824
   \   00000138   0x.... 0x....      BL       __aeabi_fmul
   \   0000013C   0x.... 0x....      BL       __aeabi_f2d
   \   00000140   0x0002             MOVS     R2,R0
   \   00000142   0x000B             MOVS     R3,R1
   \   00000144   0x0030             MOVS     R0,R6
   \   00000146   0x0039             MOVS     R1,R7
   \   00000148   0x.... 0x....      BL       __aeabi_ddiv
   \   0000014C   0x0002             MOVS     R2,R0
   \   0000014E   0x000B             MOVS     R3,R1
   \   00000150   0x9800             LDR      R0,[SP, #+0]
   \   00000152   0x9901             LDR      R1,[SP, #+4]
   \   00000154   0x.... 0x....      BL       __aeabi_dsub
   \   00000158   0x9A02             LDR      R2,[SP, #+8]
   \   0000015A   0x9B03             LDR      R3,[SP, #+12]
   \   0000015C   0x.... 0x....      BL       __aeabi_dmul
   \   00000160   0x.... 0x....      BL       __aeabi_d2f
   \   00000164   0x....             LDR      R1,??DataTable1_13
   \   00000166   0x6008             STR      R0,[R1, #+0]
    113             speed_set_R=speed_set_temp_R*(1+k+Chasu_Bili*B*tan((double)(angle*0.01745))/(2*L)); //b/2L=0.517
   \   00000168   0x....             LDR      R0,??DataTable1_14
   \   0000016A   0x6800             LDR      R0,[R0, #+0]
   \   0000016C   0x.... 0x....      BL       __aeabi_f2d
   \   00000170   0x9002             STR      R0,[SP, #+8]
   \   00000172   0x9103             STR      R1,[SP, #+12]
   \   00000174   0x....             LDR      R0,??DataTable1_15
   \   00000176   0x6801             LDR      R1,[R0, #+0]
   \   00000178   0x20FE             MOVS     R0,#+254
   \   0000017A   0x0580             LSLS     R0,R0,#+22       ;; #+1065353216
   \   0000017C   0x.... 0x....      BL       __aeabi_fadd
   \   00000180   0x.... 0x....      BL       __aeabi_f2d
   \   00000184   0x9000             STR      R0,[SP, #+0]
   \   00000186   0x9101             STR      R1,[SP, #+4]
   \   00000188   0x....             LDR      R0,??DataTable1_16
   \   0000018A   0x6801             LDR      R1,[R0, #+0]
   \   0000018C   0x....             LDR      R0,??DataTable1_17
   \   0000018E   0x6800             LDR      R0,[R0, #+0]
   \   00000190   0x.... 0x....      BL       __aeabi_fmul
   \   00000194   0x.... 0x....      BL       __aeabi_f2d
   \   00000198   0x0006             MOVS     R6,R0
   \   0000019A   0x000F             MOVS     R7,R1
   \   0000019C   0x....             LDR      R0,??DataTable1_18
   \   0000019E   0x6800             LDR      R0,[R0, #+0]
   \   000001A0   0x.... 0x....      BL       __aeabi_f2d
   \   000001A4   0x....             ADR      R2,??DataTable1_19
   \   000001A6   0xCA0C             LDM      R2,{R2,R3}
   \   000001A8   0x.... 0x....      BL       __aeabi_dmul
   \   000001AC   0x.... 0x....      BL       tan
   \   000001B0   0x0032             MOVS     R2,R6
   \   000001B2   0x003B             MOVS     R3,R7
   \   000001B4   0x.... 0x....      BL       __aeabi_dmul
   \   000001B8   0x0006             MOVS     R6,R0
   \   000001BA   0x000F             MOVS     R7,R1
   \   000001BC   0x....             LDR      R0,??DataTable1_20
   \   000001BE   0x6801             LDR      R1,[R0, #+0]
   \   000001C0   0x2080             MOVS     R0,#+128
   \   000001C2   0x05C0             LSLS     R0,R0,#+23       ;; #+1073741824
   \   000001C4   0x.... 0x....      BL       __aeabi_fmul
   \   000001C8   0x.... 0x....      BL       __aeabi_f2d
   \   000001CC   0x0002             MOVS     R2,R0
   \   000001CE   0x000B             MOVS     R3,R1
   \   000001D0   0x0030             MOVS     R0,R6
   \   000001D2   0x0039             MOVS     R1,R7
   \   000001D4   0x.... 0x....      BL       __aeabi_ddiv
   \   000001D8   0x9A00             LDR      R2,[SP, #+0]
   \   000001DA   0x9B01             LDR      R3,[SP, #+4]
   \   000001DC   0x.... 0x....      BL       __aeabi_dadd
   \   000001E0   0x9A02             LDR      R2,[SP, #+8]
   \   000001E2   0x9B03             LDR      R3,[SP, #+12]
   \   000001E4   0x.... 0x....      BL       __aeabi_dmul
   \   000001E8   0x.... 0x....      BL       __aeabi_d2f
   \   000001EC   0x....             LDR      R1,??DataTable3
   \   000001EE   0x6008             STR      R0,[R1, #+0]
    114          
    115          }
   \   000001F0   0xB005             ADD      SP,SP,#+20
   \   000001F2   0xBDF0             POP      {R4-R7,PC}       ;; return

   \                                 In section .bss, align 4
    116          float Speed_PWM=0;
   \                     Speed_PWM:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
    117          int BB_Z=0,BB_W=0,BB_H=-0;
   \                     BB_Z:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     BB_W:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     BB_H:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
    118          int BB_P_Z=50,BB_P_W=50,BB_P_F=200;
   \                     BB_P_Z:
   \   00000000   0x00000032         DC32 50

   \                                 In section .data, align 4
   \                     BB_P_W:
   \   00000000   0x00000032         DC32 50

   \                                 In section .data, align 4
   \                     BB_P_F:
   \   00000000   0x000000C8         DC32 200
    119          /**速度棒棒控制********************************************************************/

   \                                 In section .text, align 2, keep-with-next
    120          void BangBang(void)
    121          {
   \                     BangBang: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    122           int sele=1;
   \   00000004   0x2401             MOVS     R4,#+1
    123          float Speed_PWM_Max=8000,Speed_PWM_Min=-8000,speed_error=0,K4=0,Son_SP,Speed_Error=0,Speed_PWM_L=0,Speed_PWM_R=0,Error_L=0,Error_R=0; 
   \   00000006   0x....             LDR      R5,??DataTable2  ;; 0x45fa0000
   \   00000008   0x....             LDR      R6,??DataTable3_1  ;; 0xc5fa0000
   \   0000000A   0x2000             MOVS     R0,#+0
   \   0000000C   0x9005             STR      R0,[SP, #+20]
   \   0000000E   0x2000             MOVS     R0,#+0
   \   00000010   0x9004             STR      R0,[SP, #+16]
   \   00000012   0x2700             MOVS     R7,#+0
   \   00000014   0x2000             MOVS     R0,#+0
   \   00000016   0x9003             STR      R0,[SP, #+12]
   \   00000018   0x2000             MOVS     R0,#+0
   \   0000001A   0x9002             STR      R0,[SP, #+8]
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9001             STR      R0,[SP, #+4]
   \   00000020   0x2000             MOVS     R0,#+0
   \   00000022   0x9000             STR      R0,[SP, #+0]
    124          
    125          if(StraightRoad_Flag==1)
   \   00000024   0x....             LDR      R0,??DataTable2_1
   \   00000026   0x6800             LDR      R0,[R0, #+0]
   \   00000028   0x2801             CMP      R0,#+1
   \   0000002A   0xD10D             BNE      ??BangBang_0
    126          {
    127             speed_set_temp=speed_set+BB_Z;//10
   \   0000002C   0x....             LDR      R0,??DataTable3_2
   \   0000002E   0x6800             LDR      R0,[R0, #+0]
   \   00000030   0x.... 0x....      BL       __aeabi_i2f
   \   00000034   0x0001             MOVS     R1,R0
   \   00000036   0x....             LDR      R0,??DataTable3_3
   \   00000038   0x6800             LDR      R0,[R0, #+0]
   \   0000003A   0x.... 0x....      BL       __aeabi_fadd
   \   0000003E   0x....             LDR      R1,??DataTable3_4
   \   00000040   0x6008             STR      R0,[R1, #+0]
    128             sele=1;
   \   00000042   0x2001             MOVS     R0,#+1
   \   00000044   0x0004             MOVS     R4,R0
   \   00000046   0xE00C             B        ??BangBang_1
    129          }
    130          else
    131          {
    132              speed_set_temp=speed_set+BB_W;//10
   \                     ??BangBang_0: (+1)
   \   00000048   0x....             LDR      R0,??DataTable3_5
   \   0000004A   0x6800             LDR      R0,[R0, #+0]
   \   0000004C   0x.... 0x....      BL       __aeabi_i2f
   \   00000050   0x0001             MOVS     R1,R0
   \   00000052   0x....             LDR      R0,??DataTable3_3
   \   00000054   0x6800             LDR      R0,[R0, #+0]
   \   00000056   0x.... 0x....      BL       __aeabi_fadd
   \   0000005A   0x....             LDR      R1,??DataTable3_4
   \   0000005C   0x6008             STR      R0,[R1, #+0]
    133                 sele=2;
   \   0000005E   0x2002             MOVS     R0,#+2
   \   00000060   0x0004             MOVS     R4,R0
    134          }
    135          if(Circle_Flag>1&&Circle_Flag<4)//处于检测圆环双线状态
   \                     ??BangBang_1: (+1)
   \   00000062   0x....             LDR      R0,??DataTable3_6
   \   00000064   0x6800             LDR      R0,[R0, #+0]
   \   00000066   0x2802             CMP      R0,#+2
   \   00000068   0xDB10             BLT      ??BangBang_2
   \   0000006A   0x....             LDR      R0,??DataTable3_6
   \   0000006C   0x6800             LDR      R0,[R0, #+0]
   \   0000006E   0x2804             CMP      R0,#+4
   \   00000070   0xDA0C             BGE      ??BangBang_2
    136          {
    137             speed_set_temp=speed_set+BB_H;//10
   \   00000072   0x....             LDR      R0,??DataTable3_7
   \   00000074   0x6800             LDR      R0,[R0, #+0]
   \   00000076   0x.... 0x....      BL       __aeabi_i2f
   \   0000007A   0x0001             MOVS     R1,R0
   \   0000007C   0x....             LDR      R0,??DataTable3_3
   \   0000007E   0x6800             LDR      R0,[R0, #+0]
   \   00000080   0x.... 0x....      BL       __aeabi_fadd
   \   00000084   0x....             LDR      R1,??DataTable3_4
   \   00000086   0x6008             STR      R0,[R1, #+0]
    138                sele=2;
   \   00000088   0x2002             MOVS     R0,#+2
   \   0000008A   0x0004             MOVS     R4,R0
    139          }
    140          /*防止出赛道降速*/
    141          //if(speed_set>84)
    142          //{
    143          //if(abs_f(Chazhi)>75)
    144          //  speed_set_temp-=10;
    145          //}
    146          
    147          Speed_Error=speed_set_temp-speed_car;
   \                     ??BangBang_2: (+1)
   \   0000008C   0x....             LDR      R0,??DataTable3_4
   \   0000008E   0x6800             LDR      R0,[R0, #+0]
   \   00000090   0x....             LDR      R1,??DataTable3_8
   \   00000092   0x6809             LDR      R1,[R1, #+0]
   \   00000094   0x.... 0x....      BL       __aeabi_fsub
   \   00000098   0x0007             MOVS     R7,R0
    148          switch(sele)
   \   0000009A   0x0020             MOVS     R0,R4
   \   0000009C   0x2801             CMP      R0,#+1
   \   0000009E   0xD002             BEQ      ??BangBang_3
   \   000000A0   0x2802             CMP      R0,#+2
   \   000000A2   0xD042             BEQ      ??BangBang_4
   \   000000A4   0xE083             B        ??BangBang_5
    149          {
    150          case 1:
    151          
    152              if(Speed_Error>30)//车速大,>30
   \                     ??BangBang_3: (+1)
   \   000000A6   0x0038             MOVS     R0,R7
   \   000000A8   0x....             LDR      R1,??DataTable3_9  ;; 0x41f00001
   \   000000AA   0x.... 0x....      BL       __aeabi_cfrcmple
   \   000000AE   0xD808             BHI      ??BangBang_6
    153             {
    154               Speed_PWM =BB_P_Z*30;//1500
   \   000000B0   0x....             LDR      R0,??DataTable3_10
   \   000000B2   0x6800             LDR      R0,[R0, #+0]
   \   000000B4   0x211E             MOVS     R1,#+30
   \   000000B6   0x4348             MULS     R0,R1,R0
   \   000000B8   0x.... 0x....      BL       __aeabi_i2f
   \   000000BC   0x....             LDR      R1,??DataTable3_11
   \   000000BE   0x6008             STR      R0,[R1, #+0]
   \   000000C0   0xE032             B        ??BangBang_7
    155             }
    156              else if(Speed_Error>0)//车速小0-30
   \                     ??BangBang_6: (+1)
   \   000000C2   0x0038             MOVS     R0,R7
   \   000000C4   0x2100             MOVS     R1,#+0
   \   000000C6   0x.... 0x....      BL       __aeabi_cfrcmple
   \   000000CA   0xD209             BCS      ??BangBang_8
    157             {
    158              Speed_PWM = Speed_Error*BB_P_Z;
   \   000000CC   0x....             LDR      R0,??DataTable3_10
   \   000000CE   0x6800             LDR      R0,[R0, #+0]
   \   000000D0   0x.... 0x....      BL       __aeabi_i2f
   \   000000D4   0x0039             MOVS     R1,R7
   \   000000D6   0x.... 0x....      BL       __aeabi_fmul
   \   000000DA   0x....             LDR      R1,??DataTable3_11
   \   000000DC   0x6008             STR      R0,[R1, #+0]
   \   000000DE   0xE023             B        ??BangBang_7
    159             }
    160             else if(Speed_Error>-20)//车速大0->-20
   \                     ??BangBang_8: (+1)
   \   000000E0   0x0038             MOVS     R0,R7
   \   000000E2   0x....             LDR      R1,??DataTable3_12  ;; 0xc19fffff
   \   000000E4   0x.... 0x....      BL       __aeabi_cfrcmple
   \   000000E8   0xD809             BHI      ??BangBang_9
    161             {
    162                  Speed_PWM = Speed_Error*BB_P_F;
   \   000000EA   0x....             LDR      R0,??DataTable3_13
   \   000000EC   0x6800             LDR      R0,[R0, #+0]
   \   000000EE   0x.... 0x....      BL       __aeabi_i2f
   \   000000F2   0x0039             MOVS     R1,R7
   \   000000F4   0x.... 0x....      BL       __aeabi_fmul
   \   000000F8   0x....             LDR      R1,??DataTable3_11
   \   000000FA   0x6008             STR      R0,[R1, #+0]
   \   000000FC   0xE014             B        ??BangBang_7
    163             }
    164             else if(Speed_Error>-30)//车速大-20>-30
   \                     ??BangBang_9: (+1)
   \   000000FE   0x0038             MOVS     R0,R7
   \   00000100   0x....             LDR      R1,??DataTable3_14  ;; 0xc1efffff
   \   00000102   0x.... 0x....      BL       __aeabi_cfrcmple
   \   00000106   0xD803             BHI      ??BangBang_10
    165             {
    166                 Speed_PWM =-6000;
   \   00000108   0x....             LDR      R0,??DataTable3_15  ;; 0xc5bb8000
   \   0000010A   0x....             LDR      R1,??DataTable3_11
   \   0000010C   0x6008             STR      R0,[R1, #+0]
   \   0000010E   0xE00B             B        ??BangBang_7
    167             }
    168             else if(Speed_Error>-40)//车速大-30>-40
   \                     ??BangBang_10: (+1)
   \   00000110   0x0038             MOVS     R0,R7
   \   00000112   0x....             LDR      R1,??DataTable3_16  ;; 0xc21fffff
   \   00000114   0x.... 0x....      BL       __aeabi_cfrcmple
   \   00000118   0xD803             BHI      ??BangBang_11
    169             {
    170                 Speed_PWM =-7000;
   \   0000011A   0x....             LDR      R0,??DataTable3_17  ;; 0xc5dac000
   \   0000011C   0x....             LDR      R1,??DataTable3_11
   \   0000011E   0x6008             STR      R0,[R1, #+0]
   \   00000120   0xE002             B        ??BangBang_7
    171             }    
    172             else //车速大<-40
    173             {
    174                 Speed_PWM =-8000;
   \                     ??BangBang_11: (+1)
   \   00000122   0x....             LDR      R0,??DataTable3_1  ;; 0xc5fa0000
   \   00000124   0x....             LDR      R1,??DataTable3_11
   \   00000126   0x6008             STR      R0,[R1, #+0]
    175             }
    176          break;
   \                     ??BangBang_7: (+1)
   \   00000128   0xE041             B        ??BangBang_12
    177          
    178          case 2:
    179           
    180              
    181               if(Speed_Error>20)//车速小,20-30
   \                     ??BangBang_4: (+1)
   \   0000012A   0x0038             MOVS     R0,R7
   \   0000012C   0x....             LDR      R1,??DataTable3_18  ;; 0x41a00001
   \   0000012E   0x.... 0x....      BL       __aeabi_cfrcmple
   \   00000132   0xD808             BHI      ??BangBang_13
    182             {
    183               Speed_PWM =BB_P_W*20;//1500
   \   00000134   0x....             LDR      R0,??DataTable3_19
   \   00000136   0x6800             LDR      R0,[R0, #+0]
   \   00000138   0x2114             MOVS     R1,#+20
   \   0000013A   0x4348             MULS     R0,R1,R0
   \   0000013C   0x.... 0x....      BL       __aeabi_i2f
   \   00000140   0x....             LDR      R1,??DataTable3_11
   \   00000142   0x6008             STR      R0,[R1, #+0]
   \   00000144   0xE032             B        ??BangBang_14
    184             }
    185              else if(Speed_Error>0)//车速小0-20
   \                     ??BangBang_13: (+1)
   \   00000146   0x0038             MOVS     R0,R7
   \   00000148   0x2100             MOVS     R1,#+0
   \   0000014A   0x.... 0x....      BL       __aeabi_cfrcmple
   \   0000014E   0xD209             BCS      ??BangBang_15
    186             {
    187              Speed_PWM = Speed_Error*BB_P_W;
   \   00000150   0x....             LDR      R0,??DataTable3_19
   \   00000152   0x6800             LDR      R0,[R0, #+0]
   \   00000154   0x.... 0x....      BL       __aeabi_i2f
   \   00000158   0x0039             MOVS     R1,R7
   \   0000015A   0x.... 0x....      BL       __aeabi_fmul
   \   0000015E   0x....             LDR      R1,??DataTable3_11
   \   00000160   0x6008             STR      R0,[R1, #+0]
   \   00000162   0xE023             B        ??BangBang_14
    188          
    189             }
    190             else if(Speed_Error>-20)//车速大0->-20
   \                     ??BangBang_15: (+1)
   \   00000164   0x0038             MOVS     R0,R7
   \   00000166   0x....             LDR      R1,??DataTable3_12  ;; 0xc19fffff
   \   00000168   0x.... 0x....      BL       __aeabi_cfrcmple
   \   0000016C   0xD809             BHI      ??BangBang_16
    191             {
    192                  Speed_PWM = Speed_Error*BB_P_F;
   \   0000016E   0x....             LDR      R0,??DataTable3_13
   \   00000170   0x6800             LDR      R0,[R0, #+0]
   \   00000172   0x.... 0x....      BL       __aeabi_i2f
   \   00000176   0x0039             MOVS     R1,R7
   \   00000178   0x.... 0x....      BL       __aeabi_fmul
   \   0000017C   0x....             LDR      R1,??DataTable3_11
   \   0000017E   0x6008             STR      R0,[R1, #+0]
   \   00000180   0xE014             B        ??BangBang_14
    193             }
    194             else if(Speed_Error>-30)//车速大-20>-30
   \                     ??BangBang_16: (+1)
   \   00000182   0x0038             MOVS     R0,R7
   \   00000184   0x....             LDR      R1,??DataTable3_14  ;; 0xc1efffff
   \   00000186   0x.... 0x....      BL       __aeabi_cfrcmple
   \   0000018A   0xD803             BHI      ??BangBang_17
    195             {
    196                 Speed_PWM =-6000;
   \   0000018C   0x....             LDR      R0,??DataTable3_15  ;; 0xc5bb8000
   \   0000018E   0x....             LDR      R1,??DataTable3_11
   \   00000190   0x6008             STR      R0,[R1, #+0]
   \   00000192   0xE00B             B        ??BangBang_14
    197             }
    198             else if(Speed_Error>-40)//车速大-30>-40
   \                     ??BangBang_17: (+1)
   \   00000194   0x0038             MOVS     R0,R7
   \   00000196   0x....             LDR      R1,??DataTable3_16  ;; 0xc21fffff
   \   00000198   0x.... 0x....      BL       __aeabi_cfrcmple
   \   0000019C   0xD803             BHI      ??BangBang_18
    199             {
    200                 Speed_PWM =-7000;
   \   0000019E   0x....             LDR      R0,??DataTable3_17  ;; 0xc5dac000
   \   000001A0   0x....             LDR      R1,??DataTable3_11
   \   000001A2   0x6008             STR      R0,[R1, #+0]
   \   000001A4   0xE002             B        ??BangBang_14
    201             }    
    202             else //车速大<-40
    203             {
    204                 Speed_PWM =-8000;
   \                     ??BangBang_18: (+1)
   \   000001A6   0x....             LDR      R0,??DataTable3_1  ;; 0xc5fa0000
   \   000001A8   0x....             LDR      R1,??DataTable3_11
   \   000001AA   0x6008             STR      R0,[R1, #+0]
    205             }
    206          break;
   \                     ??BangBang_14: (+1)
   \   000001AC   0xE7FF             B        ??BangBang_12
    207            
    208              default :
    209                  break;
    210          }   
    211                
    212             if(Speed_PWM>Speed_PWM_Max)  Speed_PWM=Speed_PWM_Max;
   \                     ??BangBang_5: (+1)
   \                     ??BangBang_12: (+1)
   \   000001AE   0x0028             MOVS     R0,R5
   \   000001B0   0x....             LDR      R1,??DataTable3_11
   \   000001B2   0x6809             LDR      R1,[R1, #+0]
   \   000001B4   0x.... 0x....      BL       __aeabi_cfcmple
   \   000001B8   0xD201             BCS      ??BangBang_19
   \   000001BA   0x....             LDR      R0,??DataTable3_11
   \   000001BC   0x6005             STR      R5,[R0, #+0]
    213             if(Speed_PWM<Speed_PWM_Min)  Speed_PWM=Speed_PWM_Min;  
   \                     ??BangBang_19: (+1)
   \   000001BE   0x....             LDR      R0,??DataTable3_11
   \   000001C0   0x6800             LDR      R0,[R0, #+0]
   \   000001C2   0x0031             MOVS     R1,R6
   \   000001C4   0x.... 0x....      BL       __aeabi_cfcmple
   \   000001C8   0xD201             BCS      ??BangBang_20
   \   000001CA   0x....             LDR      R0,??DataTable3_11
   \   000001CC   0x6006             STR      R6,[R0, #+0]
    214          //  if(Stop_Flag==1)
    215          //  Speed_PWM=0;
    216          }
   \                     ??BangBang_20: (+1)
   \   000001CE   0xB007             ADD      SP,SP,#+28
   \   000001D0   0xBDF0             POP      {R4-R7,PC}       ;; return
    217          /*速度环控制******************************************************************/

   \                                 In section .text, align 2, keep-with-next
    218          void Controler()
    219          {
   \                     Controler: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
    220          float Speed_Error_L_Old=0,Speed_Error_R_Old=0;
   \   00000002   0x2500             MOVS     R5,#+0
   \   00000004   0x2600             MOVS     R6,#+0
    221          
    222             Speed_Error_L = speed_set_L - speed_L;//重复
   \   00000006   0x....             LDR      R0,??DataTable3_20
   \   00000008   0x6800             LDR      R0,[R0, #+0]
   \   0000000A   0x....             LDR      R1,??DataTable3_21
   \   0000000C   0x6809             LDR      R1,[R1, #+0]
   \   0000000E   0x.... 0x....      BL       __aeabi_fsub
   \   00000012   0x....             LDR      R1,??DataTable3_22
   \   00000014   0x6008             STR      R0,[R1, #+0]
    223             Speed_Error_R = speed_set_R - speed_R; 
   \   00000016   0x....             LDR      R0,??DataTable3
   \   00000018   0x6800             LDR      R0,[R0, #+0]
   \   0000001A   0x....             LDR      R1,??DataTable3_23
   \   0000001C   0x6809             LDR      R1,[R1, #+0]
   \   0000001E   0x.... 0x....      BL       __aeabi_fsub
   \   00000022   0x....             LDR      R1,??DataTable3_24
   \   00000024   0x6008             STR      R0,[R1, #+0]
    224          
    225             Direction_P_Temp=Direction_P;
   \   00000026   0x....             LDR      R0,??DataTable3_25
   \   00000028   0x6800             LDR      R0,[R0, #+0]
   \   0000002A   0x....             LDR      R1,??DataTable3_26
   \   0000002C   0x6008             STR      R0,[R1, #+0]
    226          Control_Output_L=Direction_P_Temp*Speed_Error_L +Speed_I_lntegral_L+Direction_D*(Speed_Error_L-Speed_Error_L_Old)
    227                           ;
   \   0000002E   0x....             LDR      R0,??DataTable3_26
   \   00000030   0x6801             LDR      R1,[R0, #+0]
   \   00000032   0x....             LDR      R0,??DataTable3_22
   \   00000034   0x6800             LDR      R0,[R0, #+0]
   \   00000036   0x.... 0x....      BL       __aeabi_fmul
   \   0000003A   0x....             LDR      R1,??DataTable3_27
   \   0000003C   0x6809             LDR      R1,[R1, #+0]
   \   0000003E   0x.... 0x....      BL       __aeabi_fadd
   \   00000042   0x0001             MOVS     R1,R0
   \   00000044   0x000C             MOVS     R4,R1
   \   00000046   0x....             LDR      R0,??DataTable3_22
   \   00000048   0x6800             LDR      R0,[R0, #+0]
   \   0000004A   0x0029             MOVS     R1,R5
   \   0000004C   0x.... 0x....      BL       __aeabi_fsub
   \   00000050   0x....             LDR      R1,??DataTable3_28
   \   00000052   0x6809             LDR      R1,[R1, #+0]
   \   00000054   0x.... 0x....      BL       __aeabi_fmul
   \   00000058   0x0021             MOVS     R1,R4
   \   0000005A   0x.... 0x....      BL       __aeabi_fadd
   \   0000005E   0x....             LDR      R1,??DataTable3_29
   \   00000060   0x6008             STR      R0,[R1, #+0]
    228          //
    229          Control_Output_R=Direction_P_Temp*Speed_Error_R +Speed_I_lntegral_R+Direction_D*(Speed_Error_R-Speed_Error_R_Old)
    230                             ;
   \   00000062   0x....             LDR      R0,??DataTable3_26
   \   00000064   0x6801             LDR      R1,[R0, #+0]
   \   00000066   0x....             LDR      R0,??DataTable3_24
   \   00000068   0x6800             LDR      R0,[R0, #+0]
   \   0000006A   0x.... 0x....      BL       __aeabi_fmul
   \   0000006E   0x....             LDR      R1,??DataTable3_30
   \   00000070   0x6809             LDR      R1,[R1, #+0]
   \   00000072   0x.... 0x....      BL       __aeabi_fadd
   \   00000076   0x0001             MOVS     R1,R0
   \   00000078   0x000C             MOVS     R4,R1
   \   0000007A   0x....             LDR      R0,??DataTable3_24
   \   0000007C   0x6800             LDR      R0,[R0, #+0]
   \   0000007E   0x0031             MOVS     R1,R6
   \   00000080   0x.... 0x....      BL       __aeabi_fsub
   \   00000084   0x....             LDR      R1,??DataTable3_28
   \   00000086   0x6809             LDR      R1,[R1, #+0]
   \   00000088   0x.... 0x....      BL       __aeabi_fmul
   \   0000008C   0x0021             MOVS     R1,R4
   \   0000008E   0x.... 0x....      BL       __aeabi_fadd
   \   00000092   0x....             LDR      R1,??DataTable3_31
   \   00000094   0x6008             STR      R0,[R1, #+0]
    231          
    232          
    233          }
   \   00000096   0xBD70             POP      {R4-R6,PC}       ;; return
    234          
    235          
    236          
    237          
    238          
    239          
    240          
    241          
    242          
    243          
    244          
    245          
    246          
    247          
    248          //                               Speed_Error_L_Old    -  Speed_Error_L：为P的作用
    249          //速度设定100 初始速度0 本次速度50       100-0=100     -  100-50=50    =50*D，加速
    250          //                    本次速度100             100     -   100-100=0    =100*D,加速
    251          
    252          //                                  Speed_Error_L -  Speed_Error_L_Old：为D的作用
    253          //速度设定100 初始速度0 本次速度50      100-50=50  -   100-0=100       =-50*D,减速
    254          //速度设定0 初始速度100 本次速度50      0-50=-50   -   0-100=-100       =50*D,加速
    255          //直道速度=速度设定-10   
    256          //一个弯道速度=速度设定-40   
    257          //大弯道速度=速度设定-60       速度设定-30
    258          //车速小， 正值；车速大，负值 
    259          //   speed_error=speed_buzzer-speed_car;
    260          //   K4=50;
    261          //   Son_SP=speed_error*K4;
    262          //      if(Son_SP>500)   Son_SP=500;
    263          //      if(Son_SP<300)   Son_SP=300;
    264          //   Son_SP=0;
    265          //Direction_P_Temp=Direction_P+Son_SP;

   \                                 In section .bss, align 1
    266          uint8 Direction_Control_Period = 0;
   \                     Direction_Control_Period:
   \   00000000                      DS8 1
    267          #define DIRECTION_CONTROL_PERIOD 50
    268          

   \                                 In section .data, align 4
    269          float P_Direction1=40,D_Direction1=20.5;		//低速
   \                     P_Direction1:
   \   00000000   0x42200000         DC32 42200000H

   \                                 In section .data, align 4
   \                     D_Direction1:
   \   00000000   0x41A40000         DC32 41A40000H

   \                                 In section .data, align 4
    270          float P_Direction2=40,D_Direction2=20.5;		//中速
   \                     P_Direction2:
   \   00000000   0x42200000         DC32 42200000H

   \                                 In section .data, align 4
   \                     D_Direction2:
   \   00000000   0x41A40000         DC32 41A40000H

   \                                 In section .data, align 4
    271          float P_Direction3=173,D_Direction3=145.5;		//快速
   \                     P_Direction3:
   \   00000000   0x432D0000         DC32 432D0000H

   \                                 In section .data, align 4
   \                     D_Direction3:
   \   00000000   0x43118000         DC32 43118000H
    272          

   \                                 In section .data, align 4
    273          float P_Direction = 100,D_Direction = 0;              
   \                     P_Direction:
   \   00000000   0x42C80000         DC32 42C80000H

   \                                 In section .bss, align 4
   \                     D_Direction:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
    274          float turn_spd = 150;
   \                     turn_spd:
   \   00000000   0x43160000         DC32 43160000H

   \                                 In section .data, align 4
    275          float P_Direction_high = 80, P_Direction_low=80;//26
   \                     P_Direction_high:
   \   00000000   0x42A00000         DC32 42A00000H

   \                                 In section .data, align 4
   \                     P_Direction_low:
   \   00000000   0x42A00000         DC32 42A00000H
    276          //float   K =1;

   \                                 In section .bss, align 4
    277          float Direction_Control = 0.0, Direction_Control_Last = 0.0,Direction_Control_Err=0.0;
   \                     Direction_Control:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_Control_Last:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Direction_Control_Err:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
    278          float Direction_angle=0.0;
   \                     Direction_angle:
   \   00000000                      DS8 4

   \                                 In section .data, align 4
    279          float P_Dir_agl=20.0;
   \                     P_Dir_agl:
   \   00000000   0x41A00000         DC32 41A00000H

   \                                 In section .bss, align 4
    280          float Road_Err_D=0;		//偏差的微分
   \                     Road_Err_D:
   \   00000000                      DS8 4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   0x41200000         DC32     0x41200000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_1:
   \   00000000   0x42C80000         DC32     0x42c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_2:
   \   00000000   0x42480000         DC32     0x42480000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_3:
   \   00000000   0x........         DC32     speed_buzzer

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_4:
   \   00000000   0x........         DC32     speed_car

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_5:
   \   00000000   0x........         DC32     Chazhi

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_6:
   \   00000000   0x........         DC32     Chazhi_Change

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_7:
   \   00000000   0xC2480000         DC32     0xc2480000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_8:
   \   00000000   0x........         DC32     Direction_P2_Change

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_9:
   \   00000000   0x........         DC32     Chazhi_Change2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_10:
   \   00000000   0xC2960000         DC32     0xc2960000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_11:
   \   00000000   0x41C80000         DC32     0x41c80000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_12:
   \   00000000   0x........         DC32     Angle_P_Change

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_13:
   \   00000000   0x........         DC32     Direction_P2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_14:
   \   00000000   0x........         DC32     Direction_P2_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_15:
   \   00000000   0x41A00000         DC32     0x41a00000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_16:
   \   00000000   0x........         DC32     Angle_P_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_17:
   \   00000000   0x42200000         DC32     0x42200000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_18:
   \   00000000   0x........         DC32     Angle_P

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_19:
   \   00000000   0x........         DC32     gyr_angle_speed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_20:
   \   00000000   0x43480001         DC32     0x43480001

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_21:
   \   00000000   0x43480000         DC32     0x43480000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_22:
   \   00000000   0xC3480000         DC32     0xc3480000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_23:
   \   00000000   0xBF800000         DC32     0xbf800000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_24:
   \   00000000   0x........         DC32     Direction_D2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable0_25:
   \   00000000   0x........         DC32     Chazhi_Rate

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0x........         DC32     Direction_Control_Output_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \   00000000   0x........         DC32     Angle_D_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_2:
   \   00000000   0x40540000         DC32     0x40540000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_3:
   \   00000000   0x........         DC32     Chazhi

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_4:
   \   00000000   0x........         DC32     StraightRoad_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_5:
   \   00000000   0x........         DC32     akmj_z

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_6:
   \   00000000   0x........         DC32     WindingRoad_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_7:
   \   00000000   0x........         DC32     akmj_w

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_8:
   \   00000000   0x........         DC32     speed_set

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_9:
   \   00000000   0x........         DC32     Direction_P

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_10:
   \   00000000   0x........         DC32     Direction_P_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_11:
   \   00000000   0x........         DC32     angle_limit

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_12:
   \   00000000   0x........         DC32     speed_set_temp_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_13:
   \   00000000   0x........         DC32     speed_set_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_14:
   \   00000000   0x........         DC32     speed_set_temp_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_15:
   \   00000000   0x........         DC32     k

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_16:
   \   00000000   0x........         DC32     Chasu_Bili

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_17:
   \   00000000   0x........         DC32     `B`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_18:
   \   00000000   0x........         DC32     angle

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_19:
   \   00000000   0xAD42C3CA         DC32     0xAD42C3CA,0x3F91DE69
   \              0x3F91DE69   

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_20:
   \   00000000   0x........         DC32     L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_21:
   \   00000000   0x........         DC32     Direction_Control_Output_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   0x45FA0000         DC32     0x45fa0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_1:
   \   00000000   0x........         DC32     StraightRoad_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0x........         DC32     speed_set_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0xC5FA0000         DC32     0xc5fa0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0x........         DC32     BB_Z

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x........         DC32     speed_set

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0x........         DC32     speed_set_temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0x........         DC32     BB_W

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_6:
   \   00000000   0x........         DC32     Circle_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_7:
   \   00000000   0x........         DC32     BB_H

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_8:
   \   00000000   0x........         DC32     speed_car

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_9:
   \   00000000   0x41F00001         DC32     0x41f00001

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_10:
   \   00000000   0x........         DC32     BB_P_Z

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_11:
   \   00000000   0x........         DC32     Speed_PWM

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_12:
   \   00000000   0xC19FFFFF         DC32     0xc19fffff

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_13:
   \   00000000   0x........         DC32     BB_P_F

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_14:
   \   00000000   0xC1EFFFFF         DC32     0xc1efffff

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_15:
   \   00000000   0xC5BB8000         DC32     0xc5bb8000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_16:
   \   00000000   0xC21FFFFF         DC32     0xc21fffff

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_17:
   \   00000000   0xC5DAC000         DC32     0xc5dac000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_18:
   \   00000000   0x41A00001         DC32     0x41a00001

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_19:
   \   00000000   0x........         DC32     BB_P_W

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_20:
   \   00000000   0x........         DC32     speed_set_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_21:
   \   00000000   0x........         DC32     speed_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_22:
   \   00000000   0x........         DC32     Speed_Error_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_23:
   \   00000000   0x........         DC32     speed_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_24:
   \   00000000   0x........         DC32     Speed_Error_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_25:
   \   00000000   0x........         DC32     Direction_P

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_26:
   \   00000000   0x........         DC32     Direction_P_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_27:
   \   00000000   0x........         DC32     Speed_I_lntegral_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_28:
   \   00000000   0x........         DC32     Direction_D

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_29:
   \   00000000   0x........         DC32     Control_Output_L

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_30:
   \   00000000   0x........         DC32     Speed_I_lntegral_R

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_31:
   \   00000000   0x........         DC32     Control_Output_R

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      48   BangBang
        48   -> __aeabi_fadd
        48   -> __aeabi_fmul
        48   -> __aeabi_fsub
        48   -> __aeabi_i2f
        48 __aeabi_cfcmple
        48 __aeabi_cfrcmple
      16   Controler
        16   -> __aeabi_fadd
        16   -> __aeabi_fmul
        16   -> __aeabi_fsub
      40   Direction_ChaSpeed_Control
        40   -> __aeabi_d2f
        40   -> __aeabi_dadd
        40   -> __aeabi_ddiv
        40   -> __aeabi_dmul
        40   -> __aeabi_dsub
        40   -> __aeabi_f2d
        40   -> __aeabi_fadd
        40   -> __aeabi_fmul
        40   -> __aeabi_i2f
        40   -> tan
        40 __aeabi_cdcmple
      72   Direction_Controler
        72   -> __aeabi_fadd
        72   -> __aeabi_fdiv
        72   -> __aeabi_fmul
        72   -> __aeabi_fsub
        72   -> __aeabi_i2f
        72   -> abs_f
        72 __aeabi_cfcmple
        72 __aeabi_cfrcmple


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable0
       4  ??DataTable0_1
       4  ??DataTable0_10
       4  ??DataTable0_11
       4  ??DataTable0_12
       4  ??DataTable0_13
       4  ??DataTable0_14
       4  ??DataTable0_15
       4  ??DataTable0_16
       4  ??DataTable0_17
       4  ??DataTable0_18
       4  ??DataTable0_19
       4  ??DataTable0_2
       4  ??DataTable0_20
       4  ??DataTable0_21
       4  ??DataTable0_22
       4  ??DataTable0_23
       4  ??DataTable0_24
       4  ??DataTable0_25
       4  ??DataTable0_3
       4  ??DataTable0_4
       4  ??DataTable0_5
       4  ??DataTable0_6
       4  ??DataTable0_7
       4  ??DataTable0_8
       4  ??DataTable0_9
       4  ??DataTable1
       4  ??DataTable1_1
       4  ??DataTable1_10
       4  ??DataTable1_11
       4  ??DataTable1_12
       4  ??DataTable1_13
       4  ??DataTable1_14
       4  ??DataTable1_15
       4  ??DataTable1_16
       4  ??DataTable1_17
       4  ??DataTable1_18
       8  ??DataTable1_19
       4  ??DataTable1_2
       4  ??DataTable1_20
       4  ??DataTable1_21
       4  ??DataTable1_3
       4  ??DataTable1_4
       4  ??DataTable1_5
       4  ??DataTable1_6
       4  ??DataTable1_7
       4  ??DataTable1_8
       4  ??DataTable1_9
       4  ??DataTable2
       4  ??DataTable2_1
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_10
       4  ??DataTable3_11
       4  ??DataTable3_12
       4  ??DataTable3_13
       4  ??DataTable3_14
       4  ??DataTable3_15
       4  ??DataTable3_16
       4  ??DataTable3_17
       4  ??DataTable3_18
       4  ??DataTable3_19
       4  ??DataTable3_2
       4  ??DataTable3_20
       4  ??DataTable3_21
       4  ??DataTable3_22
       4  ??DataTable3_23
       4  ??DataTable3_24
       4  ??DataTable3_25
       4  ??DataTable3_26
       4  ??DataTable3_27
       4  ??DataTable3_28
       4  ??DataTable3_29
       4  ??DataTable3_3
       4  ??DataTable3_30
       4  ??DataTable3_31
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable3_6
       4  ??DataTable3_7
       4  ??DataTable3_8
       4  ??DataTable3_9
      12  Accum_Error_L
      12  Accum_Error_R
       4  Angle_D
       4  Angle_D_Chazhi
       4  Angle_D_Speed
       4  Angle_D_Temp
       4  Angle_P
       4  Angle_P_Change
       4  Angle_P_Temp
       4  Angle_P_choose
       4  Angle_Weight
       4  B
       4  BB_H
       4  BB_P_F
       4  BB_P_W
       4  BB_P_Z
       4  BB_W
       4  BB_Z
     466  BangBang
       4  Chasu_Bili
       4  Chasu_Bili_Temp
       4  Chazhi_Bili
       4  Chazhi_Bili_Temp
       4  Chazhi_Change
       4  Chazhi_Change2
      12  Chazhi_Error_L
      12  Chazhi_Error_R
       4  Chazhi_Temp
       4  Chazhi_limit
       4  Chazhi_point
       4  Control_Output_L
       4  Control_Output_R
     152  Controler
       4  D_Direction
       4  D_Direction1
       4  D_Direction2
       4  D_Direction3
     500  Direction_ChaSpeed_Control
       4  Direction_Control
       4  Direction_Control_Err
       4  Direction_Control_Last
       4  Direction_Control_Output_L
       4  Direction_Control_Output_R
       1  Direction_Control_Period
     584  Direction_Controler
       4  Direction_D
       4  Direction_D2
       4  Direction_I
       4  Direction_I2
       4  Direction_P
       4  Direction_P2
       4  Direction_P2_Change
       4  Direction_P2_Chazhi
       4  Direction_P2_Speed
       4  Direction_P2_Temp
       4  Direction_P_Temp
       4  Direction_Weight
       4  Direction_angle
       4  L
       4  P_Dir_agl
       4  P_Direction
       4  P_Direction1
       4  P_Direction2
       4  P_Direction3
       4  P_Direction_high
       4  P_Direction_low
       1  Piaoyi_L
       1  Piaoyi_R
       4  Road_Err_D
       4  Speed_Bili
       4  Speed_Bili_Temp
       4  Speed_D
       4  Speed_I
       4  Speed_I_D_Temp
       4  Speed_I_lntegral_L
       4  Speed_I_lntegral_Max
       4  Speed_I_lntegral_R
       4  Speed_P
       4  Speed_PWM
       4  Sum_Error_L
       4  Sum_Error_R
       4  X
       4  akmj_w
       4  akmj_z
       4  angle
       4  angle_2
       4  angle_P
       8  angle_limit
       8  angle_limit_2
       4  change_bili_F
       4  change_bili_Z
       4  change_factor
       4  change_value
       4  change_variable
       4  k
       4  k3
       4  k4
       4  speed_dead_F
       4  speed_point
       4  speed_set
       4  speed_temp1
       4  speed_temp2
       4  t
       4  turn_spd

 
   247 bytes in section .bss
   184 bytes in section .data
 2 034 bytes in section .text
 
 2 034 bytes of CODE memory
   431 bytes of DATA memory

Errors: none
Warnings: 18
